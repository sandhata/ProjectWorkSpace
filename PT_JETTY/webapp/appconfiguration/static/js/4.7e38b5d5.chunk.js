(this.webpackJsonpftappconfig=this.webpackJsonpftappconfig||[]).push([[4],{291:function(e,t,n){},294:function(e,t,n){},296:function(e,t,n){},302:function(e,t,n){},303:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var s=n(30),a=n(43),o=n(10),i=n(11),l=n(15),c=n(17),r=n(0),d=n.n(r),h="http://localhost:"+(new URLSearchParams(window.location.search).get("backendPort")||"7878"),p="px",u=["BUTTON","EDIT","CHECKBOX","RADIO_BUTTON","DROPDOWN","LINK","IMAGE","LIST","LIST_ITEM","LABEL","SLIDER","PROGRESS_BAR","TEXTAREA"],m=(n(291),n(157),n(33)),b=n(292),g=(n(293),n(294),n(95)),C=function(){function e(t){Object(o.a)(this,e),this.sessionId=t,this.name=null,this.startx=0,this.starty=0,this.endx=0,this.endy=0,this.startTime=0,this.buttonPressed=!1}return Object(i.a)(e,[{key:"setStartPosition",value:function(e,t){this.startx=e,this.starty=t}},{key:"setEndPosition",value:function(e,t){this.endx=e,this.endy=t}},{key:"buildActionArgs",value:function(){var e={x:this.startx,y:this.starty,selection:this.selection};return JSON.stringify(e)}}]),e}(),j=function(){function e(t){Object(o.a)(this,e),this.action=new C(t),this.zoomFactor=1}return Object(i.a)(e,[{key:"handleEvent",value:function(e,t){if(0!==e.button)return null;this.action.name=null,this.zoomFactor=t.naturalHeight/t.clientHeight;var n=t.getBoundingClientRect(),s=Math.round((e.clientX-n.left)*this.zoomFactor),a=Math.round((e.clientY-n.top)*this.zoomFactor);return console.log(s,a),this.action.setStartPosition(s,a),this.action.name="click",null===this.action.name?null:this.action}}]),e}(),f=n(289),x=n(290),v=n(28),O=n(68),S=n(119),y=n(3),A=(n(295),n(6)),I=n(2),k=function(e){var t=Object(r.useState)(null),n=Object(m.a)(t,2),s=n[0],a=n[1],o=Object(r.useState)({aspect:16/9}),i=Object(m.a)(o,2),l=i[0],c=i[1],d=Object(r.useState)(!1),h=Object(m.a)(d,2),C=h[0],k=h[1],N=Object(r.useState)(e.controlname),w=Object(m.a)(N,2),D=w[0],F=w[1],T=Object(r.useState)(e.content),R=Object(m.a)(T,2),P=R[0],H=R[1],E=Object(r.useState)(null),K=Object(m.a)(E,2),M=K[0],_=K[1],B=Object(r.useState)(),V=Object(m.a)(B,2),L=V[0],z=V[1],W=Object(r.useState)(),X=Object(m.a)(W,2),q=X[0],Y=X[1],U=Object(r.useState)(),G=Object(m.a)(U,2),J=G[0],Q=G[1],Z=Object(r.useState)(),$=Object(m.a)(Z,2),ee=$[0],te=$[1],ne=Object(r.useState)(!1),se=Object(m.a)(ne,2),ae=se[0],oe=se[1],ie=Object(r.useState)(!0),le=Object(m.a)(ie,2),ce=le[0],re=le[1],de=Object(r.useState)(!1),he=Object(m.a)(de,2),pe=he[0],ue=he[1],me=Object(r.useRef)(null),be=Object(r.useRef)(null),ge=new j("01");Object(r.useEffect)((function(){Ce()}),[e.selection]),Object(r.useEffect)((function(){ue(!0),0===e.onHoverControlCoordinates.x&&0===e.onHoverControlCoordinates.y&&0===e.onHoverControlCoordinates.w&&0===e.onHoverControlCoordinates.h&&ue(!1)}),[e.onHoverControlCoordinates]),Object(r.useEffect)((function(){e.selectRegionFrom.add||e.selectRegionFrom.highlight||e.selectRegionFrom.reverseHighlight}),[l]);var Ce=function(){if("undefined"!==typeof e.selection){var t=y.a+"/application/"+e.appId+"/images/"+e.selection+"/screenshot";Object(S.c)(t).then((function(e){if(e.data){var t="data:image/png;base64,"+e.data;a(t)}})).catch((function(e){console.log(e)}))}},je=function(t){var n=ge.handleEvent(t,me.current);null!==n&&(n.selection=e.selection,function(t,n){e.controlSteps.map((function(s){t.startx>=s.bounds.x&&t.starty>=s.bounds.y&&t.startx<=s.bounds.x+s.bounds.w&&t.starty<=s.bounds.y+s.bounds.h&&(e.clearAllControls(),n.ctrlKey?(e.onControlSelect(s,!1),e.updateParentControlState(s,!1)):(e.onControlSelect(s,!0),e.updateParentControlState(s,!0)))}))}(n,t))},fe=function(e){if(null===me.current)return{};var t=me.current.naturalHeight/me.current.clientHeight,n={},s=parseFloat(e.x),a=parseFloat(e.y),o=parseFloat(e.w),i=parseFloat(e.h);return n.width=o/t+p,n.height=i/t+p,n.left=s/t+p,n.top=a/t+p,delete n.right,delete n.bottom,n};if(!0===e.isImgProcessing)return Object(I.jsxs)("div",{className:"prorgressbar",children:[Object(I.jsx)("h3",{children:A.a.t("device-viewer.loader")}),Object(I.jsx)(f.a,{mode:"indeterminate",style:{height:"6px"}})]});var xe=!0;0===e.selectedControlCoordinatesArr.length&&(xe=!1);var ve=function(){c(void 0),e.setEnableCrop(!1)},Oe=function(){e.setRegionFrom({add:!1,highlight:!1,reverseHighlight:!1}),k(!1),e.setEnableCrop(!1),c(void 0),e.setDragComplete(!1)},Se=function(){H(null),_(null),z(null),Y(null),te(null),Q(null)};return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"highlight-items",children:[Object(I.jsx)("div",{className:"item",children:Object(I.jsx)("a",{href:"#",className:"highlight",title:"Highlight controls",onClick:function(){return e.setRegionFrom({add:!1,highlight:!0,reverseHighlight:!1}),void e.setEnableCrop(!0)},children:Object(I.jsx)("i",{className:"pi pi-eye"})})}),Object(I.jsx)("div",{className:"item",children:Object(I.jsx)("a",{href:"#",className:"highlight-reverse",title:"Highlight reverse controls",onClick:function(){return e.setRegionFrom({add:!1,highlight:!1,reverseHighlight:!0}),void e.setEnableCrop(!0)},children:Object(I.jsx)("i",{className:"pi pi-arrow-right-arrow-left"})})}),Object(I.jsx)("div",{className:"item",children:Object(I.jsx)("a",{href:"#",className:"Cancel",title:"Cancel selection",onClick:Oe,children:Object(I.jsx)("i",{className:"pi pi-times-circle"})})})]}),Object(I.jsxs)("div",{className:"dv",children:[Object(I.jsxs)("div",{className:"dv-content",children:[e.selection&&s&&Object(I.jsx)(I.Fragment,{children:e.addControl?Object(I.jsx)("center",{children:!!s&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(b.a,{crop:l,onChange:function(e){!function(e){var t=document.createElement("canvas"),n=me.current.naturalHeight/me.current.clientHeight,s=parseFloat(e.x)*n,a=parseFloat(e.y)*n,o=parseFloat(e.width)*n,i=parseFloat(e.height)*n;t.width=e.width,t.height=e.height;var l=t.getContext("2d"),c=window.devicePixelRatio;t.width=e.width*c,t.height=e.height*c,l.setTransform(c,0,0,c,0,0),l.imageSmoothingQuality="high",z(s),Y(a),Q(o),te(i)}(e),c(e)},onComplete:function(){return k(!0)},children:Object(I.jsx)("img",{ref:me,src:s,draggable:"false",alt:"viewer image"})})})}):Object(I.jsx)(I.Fragment,{children:!!s&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)("img",{ref:me,src:s,draggable:"false",onMouseDown:function(e){je(e)},alt:"viewer image"})})})}),xe&&e.selectedControlCoordinatesArr.map((function(e){return Object(I.jsx)("div",{className:"dv-selected-control",style:fe(e)},Math.random())})),pe&&Object(I.jsx)("div",{className:"dv-selected-control-hover",style:fe(e.onHoverControlCoordinates)},Math.random())]}),Object(I.jsx)(O.a,{ref:be}),Object(I.jsx)(x.a,{visible:C,position:"right",onHide:function(){return Oe()},children:Object(I.jsx)("div",{className:"cd-container",children:Object(I.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),function(){var t=e.controlSteps,n={type:D,content:P,confidence:"100.0",category:M,bounds:{x:Math.round(L),y:Math.round(q),w:Math.round(J),h:Math.round(ee)}};t.map((function(e,t){delete e.isChecked})),t.push(n),e.setControlSteps(t);var s=y.a+"/application/"+e.appId+"/images/"+e.selection+"/labels";g.a.put(s,t,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then((function(t){be.current.show({severity:"info",summary:"Confirmed",detail:A.a.t("device-viewer.control-create-success-msg"),life:3e3}),e.refreshControlLabels(),Se(),k(!1),ve()}))}()},children:[Object(I.jsxs)("div",{className:"control-type d-flex",children:[Object(I.jsxs)("label",{className:"l-controlname",children:[A.a.t("device-viewer.type")," "]}),Object(I.jsxs)("select",{className:"controlname-input",onChange:function(e){var t;F((t=e).target.value),_(u.indexOf(t.target.value)),re(!1)},children:[Object(I.jsx)("option",{name:"",value:0,children:A.a.t("device-viewer.select-control")}),u.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))]})]}),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"control-content d-flex",children:[Object(I.jsxs)("label",{className:"l-content",children:[A.a.t("device-viewer.content")," "]}),Object(I.jsx)("input",{type:"text",label:"Control Content",className:"content-input",onChange:function(e){H(e.target.value)},value:P})]}),Object(I.jsx)("div",{className:"moreLink",onClick:function(){return oe(!ae)},children:ae?"show less":"show more"})]}),ae&&Object(I.jsxs)("div",{className:"moreSection",children:[Object(I.jsxs)("div",{className:"d-flex coordinates",children:[Object(I.jsxs)("label",{className:"l-content",children:[A.a.t("device-viewer.bounds")," "]}),Object(I.jsx)("label",{className:"l-x",children:" X "}),Object(I.jsx)("input",{type:"text",className:"x-input",value:Math.round(L),onChange:function(e){return z(e.target.value)}}),Object(I.jsx)("label",{className:"l-y",children:" Y "}),Object(I.jsx)("input",{type:"text",className:"y-input",value:Math.round(q),onChange:function(e){return Y(e.target.value)}})]}),Object(I.jsxs)("div",{className:"d-flex coordinates",children:[Object(I.jsxs)("label",{className:"l-content",style:{visibility:"hidden"},children:["Bounds"," "]}),Object(I.jsx)("label",{className:"l-w",children:" W "}),Object(I.jsx)("input",{type:"text",className:"w-input",value:Math.round(J),onChange:function(e){return Q(e.target.value)}}),Object(I.jsx)("label",{className:"l-h",children:" H "}),Object(I.jsx)("input",{type:"text",className:"h-input",value:Math.round(ee),onChange:function(e){return te(e.target.value)}})]})]}),Object(I.jsx)(v.a,{icon:"pi pi-check",type:"submit",className:"p-button-raised p-button-rounded save",label:A.a.t("device-viewer.save"),disabled:ce})]})})})]})]})},N=n(288),w=(n(296),n(306)),D=n(145),F=(n(158),function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).onClick=function(e){s.props.onNewSelection(e)},s.handelDeleteImg=function(e){var t=y.a+"/application/"+s.props.appId+"/images/"+s.props.selection;return g.a.delete(t).then((function(t){s.props.filterSelection(s.props.selection),s.setState({showDeleteDialog:!1});s.props.selectedImageName;var n=A.a.t("device-toolbar.delete-success-msg",{imagename:e});s.toast.current.show({severity:"warn",summary:"Confirmed",detail:n,life:3e3})}))},s.handelBackupImg=function(){var e=y.a+"/"+s.props.selection+"/backupnode";return g.a.put(e,{headers:{"Access-Control-Allow-Headers":"origin x-requested-with, content-type","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Content-Type":"data"}}).then((function(e){"node backup successfull"===e.data&&window.location.reload()}))},s.deleteDialogWidget=function(e){s.setState({showDeleteDialog:e})},s.arraymove=function(e,t,n){var s=e[t];return e.splice(t,1),e.splice(n,0,s),e},s.handleOnDragEnd=function(e,t){var n=s.arraymove(t,e.source.index,e.destination.index),a=s.arraymove(s.props.thumbnailImages,e.source.index,e.destination.index);s.props.setImageObjArr(a);var o=y.a+"/application/"+s.props.appId+"/images/order";return g.a.put(o,n,{headers:{"Access-Control-Allow-Headers":"origin x-requested-with, content-type","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"*","Content-Type":"application/json"}}).then((function(e){s.toast.current.show({severity:"warn",summary:"Confirmed",detail:A.a.t("device-toolbar.image-order-success"),life:3e3})}))},s.state={showDeleteDialog:!1},s.toast=Object(r.createRef)(),s}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;setTimeout((function(){var e=document.getElementById(t.props.selection);null!==e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),100)}},{key:"render",value:function(){var e=this,t=this.props.selectedImageName,n=A.a.t("device-toolbar.delete-confirm-msg",{imagename:"<b>"+t+"</b>"});return Object(I.jsxs)("div",{className:"design-tb",children:[Object(I.jsx)(O.a,{ref:this.toast}),Object(I.jsx)(D.a,{title:A.a.t("device-toolbar.delete-image"),msg:n,icon:!0,visible:this.state.showDeleteDialog,onHide:function(){return e.deleteDialogWidget(!1)},onConfirm:function(){return e.handelDeleteImg(t)}}),Object(I.jsx)(w.a,{onDragEnd:function(t){return e.handleOnDragEnd(t,e.props.ids)},children:Object(I.jsx)(w.c,{droppableId:"droppable",children:function(t){return Object(I.jsxs)("div",Object(N.a)(Object(N.a)({className:"design-tb-content"},t.droppableProps),{},{ref:t.innerRef,children:[e.props.thumbnailImages.map((function(t,n){var s=Object.values(t)[0],a=Object.keys(t)[0],o=e.props.selection===a?"selected":"";return Object(I.jsx)(w.b,{draggableId:a,index:n,tabIndex:"-1",children:function(t){return Object(I.jsxs)("div",Object(N.a)(Object(N.a)(Object(N.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:[Object(I.jsx)("span",{className:"indexNumber",children:n+1}),Object(I.jsxs)("div",{className:o,id:"selectedImage",onClick:function(t){return e.onClick(a)},tabIndex:"0",onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:[Object(I.jsx)("img",{id:a,className:"thumbnail",alt:"thumbnail image",src:"data:image/png;base64,".concat(s)}),Object(I.jsx)("button",{type:"submit",className:"deleteImg",onClick:function(){return e.deleteDialogWidget(!0)},"aria-label":"delete image",children:Object(I.jsx)("i",{className:"pi pi-times",style:{fontSize:"12px"}})})]},n)]}))}},a)})),t.placeholder]}))}})})]})}}]),n}(r.Component)),T=n(21),R=(n(302),n.p+"static/media/processing.d89dd7c6.svg"),P=n(304),H=n(305),E=(n(303),function(e){var t=Object(r.useState)(e.type),n=Object(m.a)(t,2),s=n[0],a=n[1],o=Object(r.useState)(e.content),i=Object(m.a)(o,2),l=i[0],c=i[1],d=Object(r.useState)(e.x),h=Object(m.a)(d,2),p=h[0],b=h[1],g=Object(r.useState)(e.y),C=Object(m.a)(g,2),j=C[0],f=C[1],x=Object(r.useState)(e.w),S=Object(m.a)(x,2),y=S[0],k=S[1],N=Object(r.useState)(e.h),w=Object(m.a)(N,2),D=w[0],F=w[1],T=Object(r.useState)(!1),R=Object(m.a)(T,2),P=R[0],H=R[1],E=Object(r.useRef)(null);Object(r.useEffect)((function(){a(e.type),c(e.content),b(e.x),f(e.y),k(e.w),F(e.h)}),[e.isSimilarControl,e.selectedControlArr]);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(O.a,{ref:E}),Object(I.jsx)("div",{className:"cd-container",children:Object(I.jsxs)("form",{className:"form",onSubmit:function(t){if(t.preventDefault(),1===e.selectedControlArr.length){var n={x:parseFloat(p),y:parseFloat(j),w:parseFloat(y),h:parseFloat(D)},a={controlType:s,controlContent:l,id:e.control.id,bounds:n};e.saveChanges(a)}else{var o={controlType:s};e.saveChanges(o)}},children:[Object(I.jsxs)("div",{className:"control-type d-flex",children:[Object(I.jsxs)("label",{className:"l-controlname",children:[A.a.t("control-details.type")," "]}),Object(I.jsxs)("select",{className:"controlname-input",defaultValue:s,onChange:function(e){return a(e.target.value)},children:[Object(I.jsx)("option",{name:"",value:0,children:A.a.t("control-details.select-control")}),u.map((function(e,t){return Object(I.jsx)("option",{value:e,children:e},t)}))]})]}),e.showContent&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:"control-content d-flex",children:[Object(I.jsxs)("label",{className:"l-content",children:[A.a.t("control-details.content")," "]}),Object(I.jsx)("input",{type:"text",label:"Control Content",className:"content-input",defaultValue:l,onChange:function(e){return c(e.target.value)},value:l})]}),Object(I.jsx)("div",{className:"moreLink",onClick:function(){return H(!P)},children:P?"show less":"show more"})]}),P&&Object(I.jsxs)("div",{className:"moreSection",children:[Object(I.jsxs)("div",{className:"d-flex coordinates",children:[Object(I.jsxs)("label",{className:"l-content",children:[A.a.t("control-details.bounds")," "]}),Object(I.jsx)("label",{className:"l-x",children:" X "}),Object(I.jsx)("input",{type:"text",className:"x-input",value:Math.round(p),onChange:function(e){return b(e.target.value)}}),Object(I.jsx)("label",{className:"l-y",children:" Y "}),Object(I.jsx)("input",{type:"text",className:"y-input",value:Math.round(j),onChange:function(e){return f(e.target.value)}})]}),Object(I.jsxs)("div",{className:"d-flex coordinates",children:[Object(I.jsxs)("label",{className:"l-content",style:{visibility:"hidden"},children:["Bounds"," "]}),Object(I.jsx)("label",{className:"l-w",children:" W "}),Object(I.jsx)("input",{type:"text",className:"w-input",value:Math.round(y),onChange:function(e){return k(e.target.value)}}),Object(I.jsx)("label",{className:"l-h",children:" H "}),Object(I.jsx)("input",{type:"text",className:"h-input",value:Math.round(D),onChange:function(e){return F(e.target.value)}})]})]}),Object(I.jsx)(v.a,{icon:"pi pi-check",type:"submit",className:"p-button-raised p-button-rounded save",label:"Save"})]})})]})}),K=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var s;return Object(o.a)(this,n),(s=t.call(this,e)).componentDidUpdate=function(e,t){if(e.selection!==s.props.selection&&s.getControls(),e.parentSelectedControlArrState!==s.props.parentSelectedControlArrState){s.setState({selectedControlsArr:[]},(function(){return s.setState({selectedControlsArr:Object(a.a)(s.props.parentSelectedControlArrState)})}));var n=s.state.steps;s.props.parentSelectedControlArrState.map((function(e,t){n.map((function(t,n){t.id===e.id&&(t.isChecked=!0,s.setState({scrollViewIndex:n}))}))})),s.setState({steps:n})}if(s.scrollToBottom(),t.selectedControlsArr!==s.state.selectedControlsArr){if(s.state.selectedControlsArr.length>0){var o=s.isSimilarControlSelected();s.props.setSimilar(o),s.setActiveIndex(s.props.getcontrolname),o?s.setState({isSimilarDisable:!1,setControlType:s.props.getcontrolname}):(s.setState({isSimilarDisable:!0,setControlType:0,isSimilar:!1}),s.similarBox.current.checked=!1),s.setState({enableActions:!0})}else s.setState({enableActions:!1});1===s.state.selectedControlsArr.length?(s.similarBox.current.checked=!1,s.setState({showContent:!0})):s.setState({showContent:!1})}t.scrollViewIndex!==s.state.scrollViewIndex&&setTimeout((function(){var e=document.getElementById("checkbox_"+s.state.scrollViewIndex);null!==e&&e.scrollIntoView({behavior:"smooth",block:"center"})}),500)},s.setIndexArray=function(e){var t=s.state.activeIndex?Object(a.a)(s.state.activeIndex):[];0===t.length?t.push(e):-1===t.indexOf(e)&&t.push(e);s.setState({activeIndex:t})},s.toggleMinimized=function(){s.setState({minimized:!s.state.minimized}),s.props.onMinimize(!s.state.minimized)},s.updateCheckboxState=function(e){var t=s.state.steps;t.map((function(t,n){t.isChecked=e})),s.setState({steps:t})},s.updateSingleCheckbox=function(e,t){var n=s.state.steps;n.map((function(n,s){t===s&&(n.isChecked=e)})),s.setState({steps:n})},s.allClick=function(e){if(s.updateCheckboxState(e.target.checked),s.setState({isSimilarDisable:!0,isSimilar:!1}),s.setState({isallchecked:s.selectAllBox.current.checked}),s.similarBox.current.checked=!1,!1===s.state.isallchecked){var t=s.state.steps,n=[];t.map((function(e){s.state.stepTypeObjArr.map((function(t){e.type===t.name&&(!0===t.isChecked?(e.isChecked=!0,n.push(e)):e.isChecked=!1)}))})),s.props.onAllControlSelection(n)}else s.props.onAllControlSelection(null)},s.clearAllfromParent=function(){s.props.onAllControlSelection(null),s.setState({isSimilarDisable:!0,isallchecked:!1}),s.selectAllBox.current.checked=!1,s.similarBox.current.checked=!1;var e=s.state.steps;e.map((function(e,t){e.isChecked=!1})),s.setState({steps:e,isSimilar:!1,controlType:[],selectedControlsArr:[]}),s.props.setSimilar(!1)},s.handleDisableSimilar=function(e){0===s.state.controlType.length?(s.setState({controlType:[].concat(Object(a.a)(s.state.controlType),[e])}),s.setState({isSimilarDisable:!1})):s.state.controlType.find((function(t){return t.name!==e.name}))?s.setState({isSimilarDisable:!0}):s.setState({isSimilarDisable:!1})},s.handleCheckbox=function(e,t){if(s.updateSingleCheckbox(e.target.checked,t),e.target.checked)s.state.isSimilar&&s.setState({isSimilar:!1}),s.setState({clearall:!1}),s.setState({selectedControlIndex:t}),s.setState({ControlIndex:t}),s.setState({selectedControlsArr:[].concat(Object(a.a)(s.state.selectedControlsArr),[s.state.steps[t]])}),s.props.onControlSelect(s.state.steps[t]);else{var n=s.state.steps[t].id;if(s.state.selectedControlsArr.length>0){s.setState({isallchecked:!1}),s.selectAllBox.current.checked=!1;var o=s.state.selectedControlsArr.filter((function(e){return e.id!==n}));s.setState({selectedControlsArr:[]},(function(){return s.setState({selectedControlsArr:o})})),s.props.onAllControlSelection(o),0===o.length&&s.setState({isSimilarDisable:!0,controlType:[],selectedControlsArr:[]})}}},s.isSimilarControlSelected=function(){var e=s.state.selectedControlsArr,t=e[0].type;return e.every((function(e){return e.type===t}))},s.handleViewSimilar=function(e){if(s.setState({isSimilar:!s.state.isSimilar}),s.similarBox.current.checked){var t=s.state.selectedControlsArr[0],n=[];s.state.steps.map((function(e,s){t.type===e.type&&n.push(e)})),s.props.onAllControlSelection(n)}else{var a=s.state.steps;a.map((function(e,t){e.isChecked=!1})),s.setState({steps:a}),s.props.onAllControlSelection(null),s.setState({isSimilarDisable:!0})}},s.truncate=function(e){return void 0!==e&&null!==e?e.length>35?e.substring(0,35)+"...":e:""},s.setVisibleRight=function(e){s.setState({visibleRight:e})},s.rejectDelete=function(){s.toastRef.current.show({severity:"warn",summary:"Rejected",detail:A.a.t("controls.reject-msg"),life:3e3})},s.showDeleteDialogWidget=function(e){s.setState({showDeleteDialog:e})},s.handelDeleteChange=function(){var e=s.state.steps;s.selectAllBox.current.checked?e=[]:s.state.selectedControlsArr.map((function(t,n){e.map((function(n,s){n.id===t.id&&e.splice(s,1)}))})),s.setState({selectedControlsArr:e}),e.map((function(e,t){return delete e.isChecked}));var t=y.a+"/application/"+s.props.appId+"/images/"+s.props.selection+"/labels";g.a.put(t,e,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then((function(e){s.toastRef.current.show({severity:"info",summary:"Confirmed",detail:A.a.t("controls.delete-success-msg"),life:3e3}),s.getControls(),s.clearAllfromParent(),s.setState({selectedControlsArr:[]})}))},s.handleUpdate=function(e){var t=s.state.selectedControlsArr,n=s.state.steps;t.map((function(s){n.map((function(n){1===t.length?n.id===s.id&&(n.content=e.controlContent,n.type=e.controlType,n.bounds=e.bounds):n.id===s.id&&(s.type=e.controlType)}))}));try{var a=y.a+"/application/"+s.props.appId+"/images/"+s.props.selection+"/labels";g.a.put(a,n,{headers:{"Content-Type":"application/json","if-Match":"abcd"}}).then((function(e){s.toastRef.current.show({severity:"info",summary:"Confirmed",detail:A.a.t("controls.update-success-msg"),life:3e3}),s.getControls(),s.clearAllfromParent(),s.setState({selectedControlsArr:[]})}))}catch(o){404===o.response.status?console.log("Resource could not be found!"):console.log(o.message)}s.setState({selectedControlsArr:t}),s.setVisibleRight(!1)},s.updateControlDetails=function(){1!==s.state.selectedControlsArr.length&&s.state.isSimilarDisable||(s.props.onControlSelect(s.state.selectedControlsArr[0]),s.setState({setControlType:s.state.selectedControlsArr[0].type})),s.setVisibleRight(!0)},s.addControlEnable=function(){s.props.setRegionFrom({add:!0,highlight:!1,reverseHighlight:!1}),s.props.setEnableCrop(!0)},s.toggleTypeSection=function(){s.setState({showControlSelection:!s.state.showControlSelection})},s.cancelTypeSection=function(){s.setState({showControlSelection:!1})},s.handleTypeSelectionCheckbox=function(e){var t=s.state.stepTypes,n=s.state.stepTypeObjArr,a=s.state.steps,o=s.state.selectedControlsArr;e.target.checked?(s.setState({isallchecked:!1}),s.selectAllBox.current.checked=!1,t.push(e.target.value),t.length===n.length&&(s.allComponentCheckbox.current.checked=!0,s.setState({allComponentChecked:!0}))):(t.map((function(n,s){e.target.value===n&&t.splice(s,1)})),a.map((function(t){t.type===e.target.value&&(t.isChecked=!1)})),o.map((function(t,n){t.type===e.target.value&&(o=o.filter((function(t){return t.type!==e.target.value})))})),s.setState({isSimilarDisable:!0,isallchecked:!1,activeIndex:null}),s.selectAllBox.current.checked=!1,s.similarBox.current.checked=!1,s.allComponentCheckbox.current.checked=!1,s.setState({allComponentChecked:!1})),n.map((function(t){t.name===e.target.value&&(t.isChecked=e.target.checked)})),s.setState({stepTypes:t.sort(),stepTypeObjArr:n,steps:a,selectedControlsArr:o}),s.props.setControlSteps(a),s.props.onAllControlSelection(o)},s.handleAllSelectionCheckbox=function(e){s.setState({allComponentChecked:e.target.checked});var t=s.state.stepTypes,n=s.state.steps,a=s.state.stepTypeObjArr;e.target.checked?(a.map((function(e){e.isChecked=!0})),s.getControls()):(t=[],n.map((function(e){e.isChecked=!1})),s.props.onAllControlSelection(null),s.setState({isSimilarDisable:!0,isallchecked:!1,activeIndex:null}),s.selectAllBox.current.checked=!1,s.similarBox.current.checked=!1,s.props.setControlSteps(n),a.map((function(e){e.isChecked=!1}))),s.setState({stepTypes:t.sort(),stepTypeObjArr:a,steps:n})},s.resetToDefault=function(){s.clearAllfromParent(),s.setState({clearall:!0})},s.handleExpandAll=function(){s.setState({activeIndex:[]});var e=[];s.state.stepTypes.map((function(t,n){e.push(n)})),s.setState({activeIndex:e})},s.handleCollapseAll=function(){s.setState({activeIndex:[]})},s.state={steps:[],minimized:!1,isallchecked:!1,selectedControlIndex:-1,ControlIndex:-1,selectedControlsArr:[],isSimilar:!1,isSimilarDisable:!0,controlType:[],visibleRight:!1,enableActions:!1,showContent:!0,setControlType:0,showDeleteDialog:!1,stepTypes:[],stepTypeObjArr:[],activeIndex:null,showControlSelection:!1,isSelectallDisable:!0,allComponentChecked:!0,scrollViewIndex:null,clearall:!1},s.stepsContainer=null,s.stepsContent=null,s.actionNames={},s.setVisibleRight=s.setVisibleRight.bind(Object(T.a)(s)),s.toastRef=Object(r.createRef)(),s.selectAllBox=Object(r.createRef)(),s.similarBox=Object(r.createRef)(),s.allComponentCheckbox=Object(r.createRef)(),s}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.getControls()}},{key:"setActiveIndex",value:function(e){var t=this;this.state.stepTypes.map((function(n,s){e===n&&t.setIndexArray(s)}))}},{key:"getControls",value:function(){var e=this;if(!this.props.selection)return[];var t=y.a+"/application/"+this.props.appId+"/images/"+this.props.selection+"/labels";g.a.get(t,{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET","Access-Control-Expose-Headers":"Etag"}}).then((function(t){e.setState({steps:t.data,selectedControlIndex:-1,ControlIndex:-1}),t.data.length>1?e.setState({isSelectallDisable:!1}):e.setState({isSelectallDisable:!0});var n=t.data,s=[];n.map((function(e,t){e.isChecked=!1;var n={x:e.bounds.x,y:e.bounds.y,w:e.bounds.w,h:e.bounds.h};e.bounds=n,s.push(e.type)}));var a=[];s.forEach((function(e){a.indexOf(e)<0&&a.push(e)}));var o=a.sort();e.setState({stepTypes:o});var i=[];o.map((function(e){var t={};t.name=e,t.isChecked=!0,i.push(t)})),e.setState({stepTypeObjArr:i}),e.setState({steps:n}),e.props.setControlSteps(n)})).catch((function(){console.log("Could not retrieve steps: "+e.props.selection)}))}},{key:"scrollToBottom",value:function(){null!==this.stepsContent&&(this.stepsContent.scrollTop=this.stepsContent.scrollHeight)}},{key:"addStep",value:function(e,t){var n=e===R?" cntls-processing":"";return Object(I.jsxs)("div",{className:"cntls-step"+n,title:t,children:[Object(I.jsx)("span",{className:"cntls-step-icon",children:Object(I.jsx)("img",{src:e,alt:e})}),!this.state.minimized&&Object(I.jsx)("span",{className:"cntls-step-label",children:t})]})}},{key:"render",value:function(){var e=this,t=this.state.minimized?" cntls-minimized":"";return Object(I.jsx)("div",{className:"cntls",children:Object(I.jsxs)("div",{className:"cntls-container"+t,ref:function(t){return e.stepsContainer=t},children:[Object(I.jsxs)("div",{className:"cntrl-header",children:[Object(I.jsxs)("div",{className:"d-flex cntrl-header-items",children:[Object(I.jsxs)("span",{tabIndex:"0",onClick:this.toggleTypeSection,className:"typeSectionToggle",onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:[A.a.t("controls.select-component")," ",Object(I.jsx)("i",{className:"pi pi-chevron-down"})]}),this.state.showControlSelection&&Object(I.jsxs)("div",{className:"selectComponentDiv",children:[Object(I.jsx)("span",{className:"cancelFIlterComponents",tabIndex:"0",onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},onClick:this.cancelTypeSection,children:Object(I.jsx)("i",{className:"pi pi-times"})}),this.state.steps.length>1&&Object(I.jsxs)("p",{children:[Object(I.jsx)("input",{type:"checkbox",name:"checkbox",className:"component-checkbox",id:"selectAllComponent",value:"All",checked:this.state.allComponentChecked,ref:this.allComponentCheckbox,onChange:function(t){return e.handleAllSelectionCheckbox(t)},tabIndex:"0",onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)}}),Object(I.jsx)("label",{htmlFor:"selectAllComponent",children:"All"})]}),this.state.stepTypeObjArr.map((function(t,n){return Object(I.jsxs)("p",{children:[Object(I.jsx)("input",{type:"checkbox",name:"checkbox",className:"component-checkbox",id:n,value:t.name,checked:t.isChecked,onChange:function(t){return e.handleTypeSelectionCheckbox(t)},tabIndex:"0",onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)}}),Object(I.jsx)("label",{htmlFor:n,children:t.name})]},n)}))]}),Object(I.jsxs)("div",{style:{marginLeft:"auto"},children:[Object(I.jsx)("div",{className:"item",children:Object(I.jsx)("a",{href:"#",className:"add",title:"Add control",onClick:this.addControlEnable,tabIndex:0,onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:Object(I.jsx)("i",{className:"pi pi-plus-circle actions"})})}),Object(I.jsx)("div",{className:"item",children:Object(I.jsx)("a",{href:"#",className:"update "+(this.state.enableActions?"":"disabled"),title:"Edit controls",onClick:this.updateControlDetails,tabIndex:0,onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:Object(I.jsx)("i",{className:"pi pi-pencil actions"})})}),Object(I.jsxs)("div",{className:"item",children:[Object(I.jsx)(O.a,{ref:this.toastRef}),Object(I.jsx)(P.a,{visible:this.state.showDeleteDialog,onHide:function(){return e.showDeleteDialogWidget(!1)},message:A.a.t("controls.delete-confirm-msg"),header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:this.handelDeleteChange,reject:this.rejectDelete}),Object(I.jsx)("a",{href:"#",className:"delete "+(this.state.enableActions?"":"disabled"),title:"Delete controls",onClick:function(){return e.showDeleteDialogWidget(!0)},onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:Object(I.jsx)("i",{className:"pi pi-trash actions"})})]})]})]}),Object(I.jsxs)("div",{className:"d-flex cntrl-header-items",children:[Object(I.jsxs)("div",{className:"item",children:[Object(I.jsx)("input",{type:"checkbox",className:"checkbox-style",name:"Id",id:"selectAll",onChange:this.allClick,defaultChecked:this.state.isallchecked,ref:this.selectAllBox,disabled:this.state.isSelectallDisable,tabIndex:0,onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},"aria-label":"select all"}),Object(I.jsx)("span",{className:"caption",children:A.a.t("controls.select-all")})]}),Object(I.jsxs)("div",{className:"item",children:[Object(I.jsx)("input",{type:"checkbox",className:"checkbox-style",id:"similar",onChange:this.handleViewSimilar,disabled:this.state.isSimilarDisable,defaultChecked:this.state.isSimilar,ref:this.similarBox,tabIndex:0,onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},"aria-label":"similar"}),Object(I.jsx)("span",{className:"caption",children:A.a.t("controls.similar")})]}),Object(I.jsx)("div",{className:"item clear-link",children:Object(I.jsx)("span",{className:"clear "+(this.state.enableActions?"":"disabled"),title:"Clear all checkbox",onClick:this.resetToDefault,disabled:this.state.clearall,tabIndex:0,onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:A.a.t("controls.clear")})})]}),this.state.stepTypes.length>0&&Object(I.jsxs)("div",{className:"d-flex cntrl-header-items",children:[Object(I.jsx)("span",{className:"accordion-expand-link",onClick:this.handleExpandAll,tabIndex:0,onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:A.a.t("controls.expand-all")}),Object(I.jsx)("span",{className:"accordion-collapse-link",onClick:this.handleCollapseAll,tabIndex:0,onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)},children:A.a.t("controls.collapse-all")})]})]}),Object(I.jsx)("div",{className:"cntls-content",children:Object(I.jsxs)("div",{className:"cntrol-steps"+t,ref:function(t){return e.stepsContent=t},children:[Object(I.jsx)(x.a,{visible:this.state.visibleRight,position:"right",onHide:function(){return e.setVisibleRight(!1)},children:Object(I.jsx)("div",{className:"control-details-section",children:Object(I.jsx)(E,{type:this.state.setControlType,content:this.props.getcontent,confidence:this.props.getconfidence,x:this.props.getx,y:this.props.gety,h:this.props.geth,w:this.props.getw,control:this.props,handleControlnameChange:this.props.handleControlnameChange,handleContentChange:this.props.handleContentChange,handleConfidenceChange:this.props.handleConfidenceChange,handleX_CordinateChange:this.props.handleX_CordinateChange,handleY_CordinateChange:this.props.handleY_CordinateChange,handleW_CordinateChange:this.props.handleW_CordinateChange,handleH_CordinateChange:this.props.handleH_CordinateChange,setControlName:this.props.setControlName,isSimilarControl:this.props.isSimilarControl,selectedControlArr:this.state.selectedControlsArr,showContent:this.state.showContent,completeControl:this.props,saveChanges:this.handleUpdate})})}),this.state.steps.length>0&&Object(I.jsx)(H.a,{multiple:!0,activeIndex:this.state.activeIndex,onTabChange:function(t){return e.setState({activeIndex:t.index})},children:this.state.stepTypes.map((function(t,n){return Object(I.jsx)(H.b,{header:t,children:e.state.steps.map((function(n,s){if(n.type===t)return Object(I.jsx)("div",{className:"ctrl-items",onMouseOver:function(){return e.props.setOnhoverCoordinates(e.state.steps[s].bounds)},onMouseOut:function(){return e.props.setOnhoverCoordinates(null)},children:Object(I.jsxs)("label",{htmlFor:"checkbox_"+s,children:[Object(I.jsx)("input",{id:"checkbox_"+s,type:"checkbox",className:"checkbox-style",checked:e.state.steps[s].isChecked,onChange:function(t){return e.handleCheckbox(t,s)},value:"",onKeyDown:function(t){return e.props.onKeyPressForAccessible(t)}}),e.truncate(n.content)]},s)})}))},n)}))})]})})]})})}}]),n}(r.Component),M=function(e){Object(l.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).updateStateArr=function(e,t){i.state.selectedControlArr.length>0&&!t?i.setState({selectedControlArr:[].concat(Object(a.a)(i.state.selectedControlArr),[e])}):i.setState({selectedControlArr:[e]})},i.requestImageIds=function(e){var t=h+"/application/"+i.props.appId+"/images",n=setInterval((function(){Object(S.b)(t).then((function(t){if(i.setState({selectedId:t.data[i.state.imageFocusPoint].id,selectedImageName:t.data[i.state.imageFocusPoint].name}),t.data.every((function(e){return"completed"===e.status}))){clearInterval(n),i.setThumbnails(t.data),i.setState({isImgProcessing:"completed"});var s=[];t.data.map((function(e){s.push(e.id),i.requestImages(e.id)})),i.setState({ids:s}),e||i.toastRef.current.show({severity:"warn",detail:A.a.t("virtual-client.cdis-info"),life:4e3})}else{i.setState({isImgProcessing:!0});var a=t.data.length-i.state.imageFocusPoint,o=t.data.filter((function(e){return"completed"===e.status})).length-i.state.imageFocusPoint;o=Math.floor(o/a*100),i.setState({totalImages:a,processedImagesLength:o})}})).catch((function(e){this.toastRef.current.show({severity:"warn",detail:e.message,life:4e3}),clearInterval(n),setTimeout((function(){location.reload()}),5e3)}))}),3e3)},i.requestImages=function(e){i.setState({thumbnailImages:[]});var t=h+"/application/"+i.props.appId+"/images/"+e+"/screenshot";Object(S.a)(t).then((function(t){if(t.data){var n={};n[e]=t.data,i.setState({thumbnailImages:[].concat(Object(a.a)(i.state.thumbnailImages),[n])});var o=i.state.thumbnailImages,l=i.state.idThumbs,c=[];l.length===o.length&&(l.map((function(e){var t={};o.map((function(n){void 0!==n[e.id]&&(t[e.id]=n[e.id])})),c.push(t)})),i.setState(Object(s.a)({thumbnailImages:[]},"thumbnailImages",c)))}})).catch((function(e){console.log(e),this.toastRef.current.show({severity:"warn",detail:error.message,life:4e3})}))},i.onImgSelection=function(e){i.setState({imageid:e,selectedId:e,selectedControlCoordinatesArr:[]}),i.clearAll(),i.state.idThumbs.map((function(t){e===t.id&&i.setState({selectedImageName:t.name})}))},i.onAllControlSelection=function(e){i.setState({selectedControlCoordinatesArr:[]});var t=[],n=[];i.setState({selectedControlArr:[]}),null!==e&&e.map((function(e,s){return t.push(e.bounds),n.push(e),null})),i.setState({selectedControlCoordinatesArr:t}),i.setState({selectedControlArr:n})},i.onControlSelect=function(e,t){if(null===e)i.setState({selectedControlCoordinatesArr:[]});else{var n=e.bounds.x,s=e.bounds.y,o=e.bounds.w,l=e.bounds.h;i.setState({x1:n}),i.setState({y1:s}),i.setState({w1:o}),i.setState({h1:l}),i.setState({id:e.id}),i.setState({type:e.type}),i.setState({content:e.content}),i.setState({confidence:e.confidence}),i.state.selectedControlCoordinatesArr.length>0&&!t?i.setState({selectedControlCoordinatesArr:[].concat(Object(a.a)(i.state.selectedControlCoordinatesArr),[e.bounds])}):i.setState({selectedControlCoordinatesArr:[e.bounds]})}},i.handleControlnameChange=function(e){i.setState({controlname:e.target.value})},i.handleContentChange=function(e){i.setState({content:e.target.value})},i.handleConfidenceChange=function(e){i.setState({confidence:e.target.value})},i.handleX_CordinateChange=function(e){i.setState({x1:e.target.value})},i.handleY_CordinateChange=function(e){i.setState({y1:e.target.value})},i.handleW_CordinateChange=function(e){i.setState({w1:e.target.value})},i.handleH_CordinateChange=function(e){i.setState({h1:e.target.value})},i.setControlName=function(e){i.setState({name:e.target.value})},i.setControlSteps=function(e){i.setState({controlSteps:e})},i.setThumbnails=function(e){i.setState({idThumbs:e})},i.setSimilar=function(e){i.setState({isSimilarControl:e})},i.setAppState=function(){i.props.setDesignStatetoparent(!0)},i.setEnableCrop=function(e){i.setState({addControl:e})},i.setOnhoverCoordinates=function(e){null!==e?i.setState({onHoverControlCoordinates:{x:e.x,y:e.y,w:e.w,h:e.h}}):i.setState({onHoverControlCoordinates:{x:0,y:0,w:0,h:0}})},i.filterSelection=function(e){var t,n=i.state.thumbnailImages.filter((function(t){return Object.keys(t)[0]!==e})),a=i.state.idThumbs.filter((function(t){return t.id!==e}));i.setState((t={thumbnailImages:[]},Object(s.a)(t,"thumbnailImages",n),Object(s.a)(t,"idThumbs",a),t));var o=[];a.map((function(e){o.push(e.id),i.requestImages(e.id)})),i.setState({ids:o}),0===a.length?i.props.setDesignStatetoparent(!1):i.onImgSelection(a[0].id)},i.clearAll=function(){i.clearControls.current.clearAllfromParent()},i.refreshControlLabels=function(){i.clearControls.current.getControls()},i.setImageObjArr=function(e){i.setState({thumbnailImages:e})},i.setRegionFrom=function(e){i.setEnableCrop(!0),i.setState({selectRegionFrom:e})},i.setDragComplete=function(e){i.setState({dragComplete:e})},i.onKeyPressForAccessible=function(e){"Enter"===e.key&&(console.log(e),e.target.click())},i.state={actionProcessing:!1,viewerVisibility:!0,isImgProcessing:"",status:"",ids:[],selectedId:null,appid:null,imageid:[],selectedControlArr:[],selectedControlCoordinatesArr:[],type:"",controlname:[],content:[],confidence:"",x1:[],y1:[],w1:[],h1:[],id:[],isSimilarControl:!1,controlSteps:[],idThumbs:[],thumbnailImages:[],addControl:!1,onHoverControlCoordinates:{x:0,y:0,w:0,h:0},selectRegionFrom:{add:!1,highlight:!1,reverseHighlight:!1},dragComplete:!1,selectedImageName:"",totalImages:0,processedImagesLength:0,imageFocusPoint:0},i.clearControls=d.a.createRef(),i.toastRef=Object(r.createRef)(),i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(0===this.props.imageFiles.length&&0===this.props.imageids.length)this.props.setDesignStatetoparent(!1);else if(0===this.props.imageFiles.length){var t=this.props.imageids;this.setState({selectedId:t[0].id,selectedImageName:t[0].name}),this.setThumbnails(t),this.setState({isImgProcessing:"completed"});var n=[];t.map((function(t){n.push(t.id),e.requestImages(t.id)})),this.setState({ids:n})}else{var s=h+"/application/"+this.props.appId+"/images",a=new FormData,o=this.props.imageFiles,i=this.props.imageids.length;this.setState({imageFocusPoint:i});for(var l=0;l<=o.length-1;l++)a.append("file",o[l]);Object(S.d)(s,a).then((function(t){t.data?e.requestImageIds(!0):e.requestImageIds(!1)})).catch((function(e){this.requestImageIds(!1)}))}}},{key:"render",value:function(){var e=this;return 0===this.state.idThumbs.length?Object(I.jsx)("div",{className:"card imageprocessCard",children:0===this.state.processedImagesLength?Object(I.jsxs)("div",{className:"ac-pb",children:[Object(I.jsx)("div",{className:"ac-pb-text",children:A.a.t("device-viewer.loader")}),Object(I.jsx)("div",{className:"ac-pb-container",children:Object(I.jsx)("div",{className:"ac-pb-content"})})]}):Object(I.jsx)(f.a,{value:this.state.processedImagesLength,displayValueTemplate:function(t){var n=t*e.state.totalImages;return n=Math.round(n/100),Object(I.jsxs)(I.Fragment,{children:[n," / ",Object(I.jsxs)("b",{children:[" ",e.state.totalImages," completed"]})]})}})}):Object(I.jsxs)("div",{className:"vc",children:[Object(I.jsx)(O.a,{ref:this.toastRef}),Object(I.jsxs)("div",{className:"backLink",children:[Object(I.jsx)("i",{className:"pi pi-arrow-left home-icon",onClick:this.setAppState,tabIndex:0,onKeyDown:function(t){return e.onKeyPressForAccessible(t)}}),Object(I.jsx)("span",{className:"app-name",children:this.props.appName})," (",Object(I.jsx)("span",{children:this.state.selectedImageName.trim()}),")"]}),Object(I.jsxs)("div",{className:"vc-container",children:[Object(I.jsx)(F,{selection:this.state.selectedId,onNewSelection:this.onImgSelection,ids:this.state.ids,appId:this.props.appId,thumbnailImages:this.state.thumbnailImages,filterSelection:this.filterSelection,imageids:this.state.idThumbs,setImageObjArr:this.setImageObjArr,selectedImageName:this.state.selectedImageName,onKeyPressForAccessible:this.onKeyPressForAccessible,imageFocusPoint:this.state.imageFocusPoint}),Object(I.jsx)("div",{className:"vc-content",children:Object(I.jsx)("div",{className:"vc-viewer",children:Object(I.jsx)(k,{visibility:this.state.viewerVisibility,actionProcessing:this.state.actionProcessing,onIncomingScreenshot:this.onIncomingScreenshot,onControlSelect:this.onControlSelect,selection:this.state.selectedId,selectedControlCoordinatesArr:this.state.selectedControlCoordinatesArr,updateParentControlState:this.updateStateArr,getcontrolname:this.state.type,getcontent:this.state.content,getconfidence:this.state.confidence,getx:this.state.x1,gety:this.state.y1,getw:this.state.w1,geth:this.state.h1,id:this.state.id,handleControlnameChange:this.handleControlnameChange,handleContentChange:this.handleContentChange,handleConfidenceChange:this.handleConfidenceChange,handleX_CordinateChange:this.handleX_CordinateChange,handleY_CordinateChange:this.handleY_CordinateChange,handleW_CordinateChange:this.handleW_CordinateChange,handleH_CordinateChange:this.handleH_CordinateChange,setControlName:this.setControlName,isSimilarControl:this.state.isSimilarControl,appId:this.props.appId,controlSteps:this.state.controlSteps,thumbnailImages:this.state.thumbnailImages,setEnableCrop:this.setEnableCrop,addControl:this.state.addControl,setControlSteps:this.setControlSteps,clearAllControls:this.clearAll,setOnhoverCoordinates:this.setOnhoverCoordinates,onHoverControlCoordinates:this.state.onHoverControlCoordinates,onAllControlSelection:this.onAllControlSelection,onNewSelection:this.onImgSelection,selectRegionFrom:this.state.selectRegionFrom,setRegionFrom:this.setRegionFrom,enableRegionFeature:this.enableRegionFeature,setDragComplete:this.setDragComplete,dragComplete:this.state.dragComplete,refreshControlLabels:this.refreshControlLabels})})}),Object(I.jsx)(K,{onMinimize:this.onTestStepsMinimize,selection:this.state.selectedId,onControlSelect:this.onControlSelect,onAllControlSelection:this.onAllControlSelection,getcontrolname:this.state.type,getcontent:this.state.content,getconfidence:this.state.confidence,getx:this.state.x1,gety:this.state.y1,getw:this.state.w1,geth:this.state.h1,id:this.state.id,handleControlnameChange:this.handleControlnameChange,handleContentChange:this.handleContentChange,handleConfidenceChange:this.handleConfidenceChange,handleX_CordinateChange:this.handleX_CordinateChange,handleY_CordinateChange:this.handleY_CordinateChange,handleW_CordinateChange:this.handleW_CordinateChange,handleH_CordinateChange:this.handleH_CordinateChange,setControlName:this.setControlName,setSwitch:this.setSwitch,parentSelectedControlArrState:this.state.selectedControlArr,setSimilar:this.setSimilar,appId:this.props.appId,setControlSteps:this.setControlSteps,setEnableCrop:this.setEnableCrop,ref:this.clearControls,setOnhoverCoordinates:this.setOnhoverCoordinates,selectRegionFrom:this.state.selectRegionFrom,setRegionFrom:this.setRegionFrom,enableRegionFeature:this.enableRegionFeature,onKeyPressForAccessible:function(t){return e.onKeyPressForAccessible(t)}})]})]})}}]),n}(r.Component);t.default=M}}]);
//# sourceMappingURL=4.7e38b5d5.chunk.js.map