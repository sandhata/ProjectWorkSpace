{"version":3,"sources":["components/Design/DesignServices.jsx","resources/icons/warning.svg","utils/ConfirmDialog.jsx","locales sync /^/.//.*//appconfiguration/.json$","utils/AriaUtils.js","resources/icons/feedback.svg","utils/Feedback.jsx","utils/Notification.jsx","utils/UUID.js","utils/Substitutor.jsx","utils/Tooltip.jsx","utils/DebugUtils.js","resources/icons/propagate.svg","components/AppTests.jsx","components/AppDetails.jsx","utils/Validator.jsx","utils/AppIconUtils.js","utils/AppIconSelector.jsx","components/AppFormWeb.jsx","utils/AccessibleDropdown.jsx","utils/AppInfoParserUtils.js","resources/icons/drop.svg","utils/AppFileSelector.jsx","resources/icons/info.svg","components/AppFormAndroid.jsx","components/AppFormIos.jsx","components/AppFormDesktop.jsx","components/AppFormDesign.jsx","components/AppFormAdvancedOptions.jsx","components/AppForm.jsx","resources/icons/edit.svg","resources/icons/delete.svg","components/AppViewer.jsx","AppConfiguration.jsx","SwitchDesign.jsx","serviceWorker.js","index.js","resources/icons/web.svg","resources/icons/windows.svg","resources/icons/type/android.svg","resources/icons/type/ios.svg","resources/icons/type/web.svg","resources/icons/type/desktop.svg","resources/icons/alltype-blue.svg","utils/Constants.js","resources/icons/alltype-gray.svg","i18n.js","resources/icons/android.svg","resources/icons/ios.svg"],"names":["getImages","url","axios","get","getImageDetails","imgUrl","headers","accept","fetchIntialImageList","postImages","formData","post","ConfirmDialog","_Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","setAriaProps","AriaType","DIALOG","footer","_jsxs","children","_jsx","Button","label","className","onClick","this","props","onHide","onConfirm","Dialog","header","title","appendTo","document","body","visible","closable","focusOnShow","dangerouslySetInnerHTML","__html","msg","subMsg","icon","src","SVG_warning","alt","Component","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","RADIO","CHECK","SPLIT","EXPAND","DROPDOWN","type","selector","querySelectorAll","forEach","elt","setAttribute","ARIA_LABELLEDBY","ARIA_LABEL","setDialogProps","element","querySelector","getAttribute","setRadioProps","child","setCheckProps","setSplitProps","firstElementChild","setExpandProps","setDropdownProps","console","log","setAriaPropsAll","controls","c","Feedback","href","rel","target","i18n","t","SVG_Feedback","Notification","_this","call","show","bind","_assertThisInitialized","text","highlights","toastTL","severity","summary","life","_this2","Toast","ref","el","GetUUID","replace","r","Math","random","toString","splitProperty","substituters","propValue","substName","splits","currentOffset","sort","s1","s2","offset","s","push","substr","length","colorb","colorf","tooltip","renderSubstitutedProp","properties","propName","SubstName","SUBSTITUTERTAB","AppProperty","SUBSTITUTERS","uuid","_Fragment","index","UncontrolledTooltip","placement","delay","style","backgroundColor","color","Tooltip","getPrettyJSON","obj","highlight","less","jsonString","JSON","stringify","k","v","undefined","replaceAll","_unused","AppTests","onSort","setState","sortOrder","state","onNavigate","path","navigating","MoebServiceUrl","then","notification","catch","onPropagate","keyCode","selectedTests","propagating","appId","join","getAppTests","finally","onTestsSelectionChange","_toConsumableArray","checked","splice","indexOf","appTests","renderSelection","renderPath","_isMounted","focusListener","workspace","window","addEventListener","removeEventListener","ifModified","data","appid","isDebugPort","APIBaseUrl","response","tests","rowData","checkboxClassName","appVersion","TestProperty","VERSION","Checkbox","inputId","PATH","onChange","includes","_this3","testPathClassName","Debug","_this4","isEmpty","headerLabel","headerClassName","propagateImgClassName","sortIconClassName","tabIndex","onKeyDown","SVG_Propagate","DataTable","dataKey","ID","sortField","Column","field","width","sortable","NA","AppDetails","showAllDebugProps","appDetails","appVerdict","app","appIcon","associatedTests","updateTestsHeight","ResizeObserver","height","clientHeight","offsetTop","observe","display","maxHeight","PACKAGE","SUBSTITUTERP1","ACTIVITY","BUNDLE","URL","WINTYPE","WINEXE","ICON","Platform","filter","p","TYPE","svg","appType","isWindows","PlatformName","WINDOWS","isWeb","WEB","isDesign","DESIGN","ANDROID","renderAndroidDetails","IOS","renderIosDetails","renderWebDetails","renderWindowsDetails","renderDesignDetails","DESCRIPTION","WINARGS","WINDIR","SUBSTITUTERP2","INTERNALVERSION","ToggleButton","onLabel","offLabel","ValidatorErrorMsg","ILLEGAL_CHARACTER","ILLEGAL_FORMAT","URL_INVALID","URL_PROTOCOL_MISSING","URL_DOMAIN_INCORRECT","WIN_SUFFIX_MISSING","WIN_DRIVE_MISSING","WIN_PATH_MISSING","WIN_EXT_MISSING","isAndroidPackage","str","ret","result","error","HomeApp","RegExp","test","isIosBundleId","isWindowsId","isWindowsPath","getWebIcon","domainUrl","urlObject","origin","pathname","exception","Promise","reject","img","Image","onload","naturalWidth","naturalHeight","onerror","getScaledIcon","w","h","dataURL","currentSrc","canvas","createElement","ctx","getContext","drawImage","toDataURL","AppIconSelector","inputIconFile","click","onClickBadge","isSelected","stopPropagation","onRemove","onSelectIcon","file","fr","FileReader","readAsDataURL","onSelect","currentTarget","defaultIcon","platform","marginLeft","files","getIcon","AppFormWeb","suggestAppProps","appProperties","NAME","setAppProperty","hostname","validateURL","timeout","clearTimeout","validationTimeout","onValidation","isValidURL","setTimeout","isWebURL","startsWith","iconUrl","resetIcon","onRemoveIcon","validateFiles","eve","onValueChange","isSelectedIcon","lblClassName","errorMsg","htmlFor","InputText","defaultValue","designEnableState","name","placeholder","onBlur","autoComplete","AccessibleDropdown","valueSubmitted","onSubmit","dropdown","filterInput","focus","filterInputFound","input","originalEvent","Dropdown","options","ariaLabel","filterPlaceholder","disabled","getAndroidProps","_ref","package","application","String","fromCharCode","activity","launcherActivities","_defineProperty","versionName","pbThreshold","AppFileSelector","onDrag","preventDefault","onDragEnter","dragEnterCounter","dragging","onDragLeave","onDrop","parse","dataTransfer","onInputFileClick","inputFile","onCancel","onSelection","onIconLoad","parsing","isAndroid","pbTimeout","endsWith","startTime","Date","now","AppInfoParser","_ref2","CFBundleIdentifier","CFBundleName","CFBundleShortVersionString","getiOSProps","FILE","parsingTime","parsingClassName","draggingClassName","onDragOver","onLoad","SVG_Android","SVG_Ios","SVG_Drop","AppFormAndroid","validatePackage","isValidActivity","validationPkgTimeout","isValidPackage","isValidPkgResult","isValidActResult","validateActivity","validationActTimeout","onAndroidTypeChange","androidType","AndroidTypeName","APK","DEVICE","devices","getDevices","onApkSelection","selection","resetDeviceForm","onApkIconLoad","onPackageChange","resetApkForm","onDeviceSelection","selectedDevice","selectedPackage","emulatorId","onPackageSelection","MANUAL","devicesRunningTask","packages","packagesRunningTask","getPackages","pullApk","delete","d","deviceType","toLowerCase","model","deviceId","packList","responseType","File","apkProps","_this5","lblPkgClassName","pkgErrorMsg","actErrorMsg","lblActClassName","onFocus","_this6","isSelectedDevice","onError","SVG_Info","_this7","AndroidType","at","RadioButton","renderManualType","renderApkType","renderDeviceType","AppFormIos","validateBundleId","isValidBundleId","onIpaSelection","onIpaIconLoad","onIOSTypeChange","iOSType","IOSTypeName","IPA","onBundleIdChange","resetIpaForm","IOSType","renderIpaType","AppFormDesktop","validateExe","isValidExe","isExePath","substring","lastIndexOf","onDesktopTypeChange","appExe","DesktopTypeName","EXE","lbl","tooltipText","DesktopType","dt","AppFormDesign","ondeleteImagePress","HTMLInputElement","HTMLTextAreaElement","nextSibling","handleSelectDesign","isDesignEnable","clearFields","onFileChange","i","toastRef","current","detail","formDataHandel","msgs","React","createRef","keyboardListener","thumbnailkeyboardListener","clear","sticky","prevProps","Panel","headerTemplate","collapsed","toggleIcon","concat","titleClassName","togglerClassName","onTogglerClick","Ripple","fontSize","paddingRight","toggleable","multiple","hidden","savedImages","image","isProcessed","deleteImage","imageSize","size","pow","titleValue","toFixed","Messages","pt","wrapper","AppFormAdvancedOptions","template","paddingLeft","AppForm","appProps","isSubFormValid","valid","onDesignValidation","isDesignValid","getFileNames","event","_loop","imgReader","onloadend","imgObj","setSavedImages","imageValidation","newImageArr","img_collection","tempState","tempArr","clearImageFields","images","savedImagesArr","savedimage","ind","setDeletedImages","deletedImages","handleDeletedImages","addApplication","validateName","handleAppName","appname","setAppId","setSelectedImgCollection","status","onActionPerformed","typeFilter","canAddApplication","editApplication","put","notifyApplicationChange","all","handelDeleteImgApi","res","err","imageId","DOMPurify","appversion","appDescription","applicationName","inputText","handler","editMode","form_data","image_process_status","mainInput","dlg","values","plaformData","svgtype","dlgEditTitle","dlgAddTitle","okLbl","okHandler","errorClassName","spellCheck","TabView","activeIndex","TabPanel","hasDesigns","InputTextarea","disableDesign","AppViewer","refreshList","appFormType","ALL","getAppsList","expandedRows","deletingApp","editingApp","settingMode","onEdit","settingImageIds","imgData","requestThumbnails","onDelete","warning","deleteApp","onFilterChange","platForms","onAddBtnToggle","addBtnVisible","addBtn","hide","setImages","onKeyPressForAccessible","appsList","globalFilter","renderName","renderActions","rowExpansionTemplate","addItems","command","onAdd","selectedAppId","appsListString","getWorkspace","val","selApp","scrollIntoView","behavior","block","inline","localized_string","applications","pData","divClassName","getAppIcon","version","date","DATE","toLocaleDateString","language","toLocaleTimeString","switchToDesign","SVG_Edit","SVG_Delete","onTabChange","inkbar","leftIcon","role","onInput","SplitButton","menuList","confirmVisible","confirmMsg","rowClassName","emptyMessage","onRowToggle","onRowClick","expander","paddingTop","renderVerdict","renderType","renderVersion","renderDate","AppConfiguration","_useState","useState","_useState2","_slicedToArray","setDesignState","_useState3","_useState4","_useState5","_useState6","imageFiles","setImageFiles","_useState7","_useState8","setMode","_useState9","_useState10","imageIds","setImageIds","_useState11","_useState12","appName","setAppName","URLSearchParams","location","search","Suspense","fallback","mode","ids","VirtualClient","lazy","imageids","setDesignStatetoparent","reload","SwitchDesign","Boolean","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister","backendPort","SVG_All_Type_Blue","SVG_Android_Type","SVG_Windows","SVG_Windows_Type","SVG_Ios_Type","SVG_Web","SVG_Web_Type","CREATOR","UWP","APPID","WORKSPACE","resources","l","require","use","initReactI18next","LngDetector","init","fallbackLng","lowerCaseLng","detection","order","keySeparator","interpolation","escapeValue"],"mappings":"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","file":"static/js/main.f277a1ec.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getImages = (url) => {\n  return axios.get(url);\n};\n\nexport const getImageDetails = (imgUrl) => {\n  return axios.get(imgUrl, {\n    headers: { accept: \"application/json\" },\n  });\n};\n\nexport const fetchIntialImageList = (url) => {\n  return axios.get(url);\n};\n\nexport const postImages = (imgUrl, formData) => {\n  return axios.post(imgUrl, formData, {\n    headers: { \"Content-Type\": \"multipart/form-data\" },\n  });\n};\n","export default __webpack_public_path__ + \"static/media/warning.226ee508.svg\";","import React, { Component } from 'react';\r\nimport './ConfirmDialog.scss';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { Button } from 'primereact/button';\r\nimport SVG_warning from '../resources/icons/warning.svg';\r\nimport { AriaType, setAriaProps } from './AriaUtils';\r\n\r\nexport class ConfirmDialog extends Component {\r\n\r\n  componentDidUpdate() {\r\n    setAriaProps(AriaType.DIALOG, '.ac-confirm-dlg');\r\n  }\r\n\r\n  render() {\r\n    const footer = (\r\n        <div>\r\n            <Button label=\"Cancel\" className=\"p-button-secondary\" onClick={this.props.onHide} />\r\n            <Button label=\"OK\" onClick={this.props.onConfirm} />\r\n        </div>\r\n    );\r\n    return (\r\n        <Dialog\r\n            header={this.props.title}\r\n            footer={footer}\r\n            className=\"ac-confirm-dlg\"\r\n            appendTo={document.body}\r\n            visible={this.props.visible}\r\n            closable={true}\r\n            onHide={this.props.onHide}\r\n            focusOnShow={false}>\r\n                <div dangerouslySetInnerHTML={{ __html: this.props.msg }} />\r\n                \r\n                {this.props.subMsg &&\r\n                  <div>\r\n                    {this.props.icon && <img src={SVG_warning} alt='' />}\r\n                    <span className=\"ac-confirm-submsg\"\r\n                          dangerouslySetInnerHTML={{ __html: this.props.subMsg }} />\r\n                  </div>\r\n                }\r\n        </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ConfirmDialog;","var map = {\n\t\"./cs/appconfiguration.json\": 178,\n\t\"./de/appconfiguration.json\": 179,\n\t\"./en/appconfiguration.json\": 180,\n\t\"./es/appconfiguration.json\": 181,\n\t\"./fr/appconfiguration.json\": 182,\n\t\"./hu/appconfiguration.json\": 183,\n\t\"./it/appconfiguration.json\": 184,\n\t\"./ja/appconfiguration.json\": 185,\n\t\"./ko/appconfiguration.json\": 186,\n\t\"./pl/appconfiguration.json\": 187,\n\t\"./pt-br/appconfiguration.json\": 188,\n\t\"./ru/appconfiguration.json\": 189,\n\t\"./tr/appconfiguration.json\": 190,\n\t\"./zh-cn/appconfiguration.json\": 191,\n\t\"./zh-tw/appconfiguration.json\": 192\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 177;","export const AriaType = {\r\n    DIALOG: 'dialog',\r\n    RADIO: 'radio',\r\n    CHECK: 'check',\r\n    SPLIT: 'split',\r\n    EXPAND: 'expand',\r\n    DROPDOWN: 'dropdown'\r\n}\r\n\r\nexport function setAriaProps(type, selector) {\r\n    try {\r\n        switch(type) {\r\n            case AriaType.DIALOG:\r\n                setDialogProps(selector);\r\n                break;\r\n            case AriaType.RADIO:\r\n                setRadioProps(selector);\r\n                break;\r\n            case AriaType.CHECK:\r\n                setCheckProps(selector);\r\n                break;\r\n            case AriaType.SPLIT:\r\n                setSplitProps(selector);\r\n                break;\r\n            case AriaType.EXPAND:\r\n                setExpandProps(selector);\r\n                break;\r\n            case AriaType.DROPDOWN:\r\n                setDropdownProps(selector);\r\n                break;\r\n            default:\r\n        }\r\n    }\r\n    catch(e) {\r\n        console.log('Can not set ARIA properties');\r\n    }\r\n}\r\n\r\nexport function setAriaPropsAll(controls) {\r\n    controls.forEach(c => {\r\n        setAriaProps(c.type, c.selector)\r\n    });\r\n}\r\n\r\nconst ARIA_LABEL = 'aria-label';\r\nconst ARIA_LABELLEDBY = 'aria-labelledby';\r\n\r\nfunction setDialogProps(selector) {\r\n    document.querySelectorAll(selector).forEach(elt => {\r\n        elt.setAttribute(ARIA_LABELLEDBY, elt.id);\r\n        elt.setAttribute(ARIA_LABEL, elt.id);\r\n    });\r\n}\r\n\r\nfunction setExpandProps(selector) {\r\n    document.querySelectorAll(selector).forEach(element => {\r\n        element.firstElementChild.setAttribute(ARIA_LABEL, 'expand');\r\n    });\r\n}\r\n\r\nfunction setRadioProps(selector) {\r\n    document.querySelectorAll(selector).forEach(element => {\r\n        element.querySelector('.p-radiobutton-box')\r\n            .setAttribute(ARIA_LABEL, element.getAttribute(ARIA_LABEL));\r\n    });\r\n}\r\n\r\nfunction setCheckProps(selector) {\r\n    document.querySelectorAll(selector).forEach(element => {\r\n        element.querySelectorAll('div.p-checkbox-box, input').forEach(child => {\r\n            child.setAttribute(ARIA_LABEL, element.getAttribute(ARIA_LABEL));\r\n        });\r\n    });\r\n}\r\n\r\nfunction setSplitProps(selector) {\r\n    document.querySelectorAll(selector).forEach(element => {\r\n        element.querySelectorAll('.p-button').forEach(child => {\r\n            child.setAttribute(ARIA_LABEL, element.getAttribute(ARIA_LABEL));\r\n        });\r\n    });\r\n}\r\n\r\nfunction setDropdownProps(selector) {\r\n    document.querySelectorAll(selector).forEach(element => {\r\n        element.querySelector('.p-dropdown-trigger')\r\n            .setAttribute(ARIA_LABEL, element.querySelector('input').getAttribute(ARIA_LABEL));\r\n    });\r\n}\r\n","export default __webpack_public_path__ + \"static/media/feedback.e11e6b88.svg\";","import React, { Component } from 'react';\r\nimport './Feedback.scss';\r\nimport { VENDOR } from '../vendor/vars';\r\nimport SVG_Feedback from '../resources/icons/feedback.svg';\r\nimport i18n from '../i18n';\r\n\r\nclass Feedback extends Component {\r\n    render() {\r\n        let feedBackUrl = (VENDOR === 'IBM')\r\n         ? 'mailto:devops24@us.ibm.com'\r\n         : 'https://onetest-ideas.hcltechsw.com/?category=6820342368443829403';\r\n        return (\r\n            <a\r\n              className=\"feedback\" \r\n              href={feedBackUrl}\r\n              rel=\"noopener noreferrer\"\r\n              target=\"_blank\">\r\n                {i18n.t('feedback.title')}\r\n                <img src={SVG_Feedback} alt=\"\" />\r\n            </a>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Feedback;\r\n","import React, { Component } from 'react';\r\nimport { Toast } from 'primereact/toast';\r\nimport './Notification.scss';\r\nexport class Notification extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.show = this.show.bind(this);\r\n    }\r\n\r\n    show(text, highlights) {\r\n        highlights && this.toastTL.show({severity:'info', summary: text,  life: 10000});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Toast ref={(el) => this.toastTL = el} />\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notification;\r\n","// RFC4122 version 4\r\nexport function GetUUID() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n        var r = Math.random() * 16 | 0, v = c === 'x' ? r : ((r & 0x3) | 0x8);\r\n        return v.toString(16);\r\n    });\r\n}\r\n","import React from 'react';\r\nimport { UncontrolledTooltip } from 'reactstrap';\r\nimport { GetUUID } from '../utils/UUID';\r\nimport { AppProperty, SubstName } from './Constants';\r\n\r\nfunction splitProperty(substituters, propValue, substName) {\r\n    let splits = [];\r\n    let currentOffset = 0;\r\n    substituters && substituters[substName]\r\n        .sort((s1, s2) => s1.offset - s2.offset)\r\n        .forEach(s => {\r\n            if (currentOffset !== s.offset) {\r\n                splits.push({ value: propValue.substr(currentOffset, s.offset - currentOffset) });\r\n            }\r\n            splits.push({ value: propValue.substr(s.offset, s.length), colorb: s.colorb, colorf: s.colorf, tooltip: s.tooltip });\r\n            currentOffset = s.offset + s.length;\r\n    });\r\n    (currentOffset !== propValue.length) && splits.push({ value: propValue.substr(currentOffset) });\r\n\r\n    return splits;\r\n}\r\n\r\nexport function renderSubstitutedProp(properties, propName, substName) {\r\n    const propValue = properties[propName];\r\n    if (!propValue) return;\r\n    \r\n    substName = substName || SubstName.SUBSTITUTERTAB; // Default value\r\n    const substituters = properties[AppProperty.SUBSTITUTERS];\r\n    if (!substituters || !substituters[substName]) return propValue;\r\n\r\n    const uuid = '_' + GetUUID();\r\n    return (\r\n        <>\r\n            {splitProperty(substituters, propValue, substName).map((s, index) => {\r\n                return (\r\n                    <span key={index}>\r\n                        {s.tooltip && <UncontrolledTooltip placement=\"bottom\" target={uuid + '_' + index} delay={{ show: 200 }}>\r\n                            {s.tooltip}\r\n                        </UncontrolledTooltip>}\r\n                        <span id={uuid + '_' + index} className=\"fake\" style={{ backgroundColor: s.colorb, color: s.colorf }}>{s.value}</span>\r\n                    </span>\r\n                )\r\n            })}\r\n        </>\r\n    )\r\n}\r\n","import React, { Component } from 'react';\r\nimport { UncontrolledTooltip } from 'reactstrap';\r\n\r\nexport class Tooltip extends Component {\r\n\r\n  render() {\r\n    const placement = this.props.placement || 'bottom';\r\n    return (\r\n        <UncontrolledTooltip placement={placement} target={this.props.id} delay={{ show: 500 }}>\r\n            {this.props.text}\r\n        </UncontrolledTooltip>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Tooltip;\r\n","export function getPrettyJSON(obj, highlight, less) {\r\n    let jsonString = JSON.stringify(obj,\r\n        function(k, v) {\r\n            if (!v) return (less) ? undefined : '';\r\n            return (v.length > 100)\r\n                ? v.substr(0, 100) + '... [' + v.length + ' bytes]'\r\n                : v;\r\n        },\r\n        5);\r\n\r\n    if (highlight) {\r\n        try {\r\n            jsonString = jsonString.replaceAll(/\"(.*)\":/g, '\"<b>$1</b>\":');\r\n        }\r\n        catch {\r\n            console.log('Could not highlight JSON keys');\r\n        }\r\n    }\r\n    \r\n    return jsonString;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/propagate.0b5d3a06.svg\";","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport './AppTests.scss';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { Notification } from '../utils/Notification';\r\nimport { Checkbox } from 'primereact/checkbox';\r\nimport { APIBaseUrl, MoebServiceUrl, TestProperty, Debug, isDebugPort } from '../utils/Constants';\r\nimport { Tooltip } from '../utils/Tooltip';\r\nimport { AriaType, setAriaProps } from '../utils/AriaUtils';\r\nimport { getPrettyJSON } from '../utils/DebugUtils';\r\nimport SVG_Propagate from '../resources/icons/propagate.svg';\r\nimport i18n from '../i18n';\r\n\r\nexport class AppTests extends Component {\r\n  constructor() {\r\n    super();\r\n        this.state = {\r\n        appTests: [],\r\n        selectedTests: [],\r\n        sortOrder: 1,\r\n        navigating: false,\r\n        propagating: false\r\n    };\r\n    this.renderSelection = this.renderSelection.bind(this);\r\n    this.renderPath = this.renderPath.bind(this);\r\n    this.notification = null;\r\n    this._isMounted = false;\r\n    this.focusListener = () => {\r\n      if (this._isMounted) {\r\n          this.getAppTests(this.props.appId, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    if (this.props.workspace !== null) {\r\n      this.getAppTests(this.props.appId);\r\n    }\r\n\r\n    // Refresh tests on focus\r\n    window.addEventListener('focus', this.focusListener, false);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n    window.removeEventListener('focus', this.focusListener, false);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    setAriaProps(AriaType.CHECK, '.act-checkbox');\r\n  }\r\n\r\n  getAppTests(appId, ifModified) {\r\n    // List all tests in debug mode\r\n    const workspace = (isDebugPort && this.props.workspace === '') ? null : this.props.workspace;\r\n    const data = { appid: appId, workspace };\r\n    const url = APIBaseUrl + '/tests/';\r\n    axios.post(url, data ).then(response => {\r\n        if (!this._isMounted) return;\r\n        \r\n        const appTests = response.data.tests || [];\r\n        if (!ifModified || JSON.stringify(this.state.appTests) !== JSON.stringify(appTests)) {\r\n          this.setState({ appTests });\r\n        }\r\n    })\r\n    .catch(() => {\r\n        console.log('Associated tests could not be retrieved');\r\n    });\r\n  }\r\n\r\n  onSort = () => {\r\n    this.setState({ sortOrder: -this.state.sortOrder });\r\n  }\r\n\r\n  onNavigate = (path) => {\r\n    this.setState({ navigating: true });\r\n    const msg = i18n.t('apptests.notification');\r\n    const url = MoebServiceUrl\r\n        + '/com.ibm.rational.test.lt.core.moeb.services.reports.IUnifiedReportService/'\r\n        + '?action=navigateToTest'\r\n        + '&testPath=' + path;\r\n    axios.get(url).then(() => {\r\n        this.notification.show(msg);\r\n        this.setState({ navigating: false });\r\n    })\r\n    .catch(() => {\r\n        console.log('Navigation failed');\r\n        this.notification.show(msg);\r\n        this.setState({ navigating: false });\r\n    });\r\n  }\r\n\r\n  onPropagate = (e) => {\r\n    if (e.keyCode && e.keyCode !== 13) return;\r\n    if (this.state.selectedTests.length === 0) return;\r\n    \r\n    this.setState({ propagating: true });\r\n    const msg = i18n.t('apptests.update-notification');\r\n    const url = MoebServiceUrl\r\n        + '/com.ibm.rational.test.lt.core.moeb.services.applications.IApplicationService/'\r\n        + '?action=propagate'\r\n        + '&appuid=' + this.props.appId\r\n        + '&testPaths=' + this.state.selectedTests.join();\r\n\r\n    axios.get(url).then(() => {\r\n          this.getAppTests(this.props.appId);\r\n        })\r\n        .catch(() => {\r\n          console.log('Propagation failed');\r\n        })\r\n        .finally(() => {\r\n          this.notification.show(msg);\r\n          this.setState({ selectedTests: [] });\r\n          this.setState({ propagating: false });\r\n        }\r\n    );\r\n  }\r\n\r\n  onTestsSelectionChange = e => {\r\n    let selectedTests = [...this.state.selectedTests];\r\n    if(e.checked) {\r\n        selectedTests.push(e.value);\r\n    }\r\n    else {\r\n        selectedTests.splice(selectedTests.indexOf(e.value), 1);\r\n    }\r\n\r\n    this.setState({selectedTests});\r\n  }\r\n\r\n  renderSelection(rowData) {\r\n    const checkboxClassName = (this.props.appVersion === rowData[TestProperty.VERSION]) ? 'disabled' : '';\r\n    return (\r\n        <span className=\"act-checkbox\">\r\n            <Checkbox\r\n                inputId={rowData[TestProperty.PATH]}\r\n                value={rowData[TestProperty.PATH]}\r\n                className={checkboxClassName}\r\n                onChange={this.onTestsSelectionChange}\r\n                checked={this.state.selectedTests.includes(rowData[TestProperty.PATH])} />\r\n        </span>\r\n    )\r\n  }\r\n\r\n  renderPath(rowData) {\r\n    let testPathClassName = (this.state.navigating) ? ' navigating' : '';\r\n    testPathClassName += Debug ? ' acd-debug' : '';\r\n    return (\r\n      <span\r\n        className={'acd-testpath' + testPathClassName}\r\n        onClick={() => this.onNavigate(rowData[TestProperty.PATH])}\r\n        dangerouslySetInnerHTML={\r\n          { __html: Debug ? getPrettyJSON(rowData, true, false) : rowData[TestProperty.PATH] }\r\n        } />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const isEmpty = (this.state.appTests.length === 0);\r\n    const headerLabel = isEmpty ? i18n.t('apptests.no-tests') : i18n.t('apptests.title');\r\n    const headerClassName = isEmpty ? '' : 'sortable';\r\n    let propagateImgClassName = (this.state.selectedTests.length === 0) ? ' disabled' : '';\r\n    if (this.state.propagating) {\r\n      propagateImgClassName += ' propagating';\r\n    }\r\n    const sortIconClassName = (this.state.sortOrder === 1) ? ' up' : ' down';\r\n    return (\r\n        <span className=\"acd-tests\">\r\n            <div className=\"acd-tests-header\">\r\n              {this.props.workspace === null ?\r\n                <div className=\"acd-loading\">\r\n                  <span/>\r\n                  {i18n.t('apptests.loading')}\r\n                </div>\r\n                :\r\n                <>\r\n                  <span className={headerClassName} onClick={this.onSort}>\r\n                      {headerLabel}\r\n                      <span className={'pi' + sortIconClassName} />\r\n                  </span>\r\n                  <Tooltip id={'_update' + this.props.appId} text={i18n.t('apptests.update-tooltip')} />\r\n                  <span id={'_update' + this.props.appId} className={'acd-propagate' + propagateImgClassName} tabIndex=\"0\"\r\n                    onClick={e => this.onPropagate(e)} onKeyDown={e => this.onPropagate(e)}>\r\n                      <img\r\n                          src={SVG_Propagate}\r\n                          alt='' />\r\n                  </span>\r\n                </>\r\n              }\r\n            </div>\r\n            <div className=\"acd-tests-table\">\r\n                <DataTable\r\n                    value={this.state.appTests}\r\n                    dataKey={TestProperty.ID}\r\n                    sortField={TestProperty.PATH}\r\n                    sortOrder={this.state.sortOrder} \r\n                    onSort={this.onSort}\r\n                    >\r\n                    <Column field=\"internalVersion\" style={{ width: '30px' }} body={this.renderSelection} />\r\n                    <Column field={TestProperty.PATH} className=\"acd-testpath\" body={this.renderPath} sortable/>\r\n                </DataTable>\r\n            </div>\r\n\r\n            <Notification ref={el => (this.notification = el)} />\r\n        </span>\t\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppTests;\r\n","import React, { Component } from 'react';\r\nimport './AppDetails.scss';\r\nimport { APIBaseUrl, Platform, PlatformName, AppProperty, Debug, SubstName } from '../utils/Constants';\r\nimport { renderSubstitutedProp } from '../utils/Substitutor';\r\nimport { ToggleButton } from 'primereact/togglebutton';\r\nimport { GetUUID } from '../utils/UUID';\r\nimport AppTests from './AppTests';\r\nimport { getPrettyJSON } from '../utils/DebugUtils';\r\nimport i18n from '../i18n';\r\nimport axios from \"axios\";\r\n\r\nconst NA = 'NA';\r\nconst PX = 'px';\r\n\r\nexport class AppDetails extends Component {\r\n    \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        showAllDebugProps: false\r\n    };\r\n    this.appDetails = null;\r\n    this.appVerdict = null;\r\n    this.app = null;\r\n    this.appIcon = null;\r\n    this.associatedTests = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateTestsHeight();\r\n\r\n    if (typeof ResizeObserver !== \"function\") return;\r\n\r\n    const resizeObserver = new ResizeObserver(() => {\r\n        // Update verdict bar height\r\n        if (this.appVerdict) {\r\n            this.appVerdict.style.height =\r\n                (this.appDetails.clientHeight - this.appVerdict.offsetTop) + PX;\r\n        }\r\n    });\r\n    resizeObserver.observe(this.appDetails);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.updateTestsHeight();\r\n\r\n  }\r\n\r\n  updateTestsHeight() {\r\n    if (!this.associatedTests || !this.appDetails) return;\r\n\r\n    this.associatedTests.style.display = 'none';\r\n    this.associatedTests.style.maxHeight = this.appDetails.clientHeight + PX;\r\n    this.associatedTests.style.display = 'flex';\r\n  }\r\n\r\n  renderAndroidDetails() {\r\n    return (\r\n        <>\r\n            <div className=\"acd-label\">{i18n.t('appdetails.package')}</div>\r\n            <div className=\"acd-main-value\">\r\n                <img src={this.appIcon} alt='' />\r\n                <span className=\"acd-subst-value\">\r\n                    {renderSubstitutedProp(this.app, AppProperty.PACKAGE, SubstName.SUBSTITUTERP1)}\r\n                </span>\r\n            </div>\r\n            <div className=\"acd-separator\" />\r\n            <div className=\"acd-label\">{i18n.t('appdetails.activity')}</div>\r\n            <span className=\"acd-subst-value\">\r\n                {renderSubstitutedProp(this.app, AppProperty.ACTIVITY)}\r\n            </span>\r\n        </>\r\n    );\r\n  }\r\n\r\n  renderIosDetails() {\r\n    return (\r\n        <>\r\n            <div className=\"acd-label\">{i18n.t('appdetails.bundle-id')}</div>\r\n            <div className=\"acd-main-value\">\r\n                <img src={this.appIcon} alt='' />\r\n                <span className=\"acd-subst-value\">\r\n                    {renderSubstitutedProp(this.app, AppProperty.BUNDLE)}\r\n                </span>\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n\r\n  renderWebDetails() {\r\n    return (\r\n        <>\r\n            <div className=\"acd-label\">{i18n.t('appdetails.url')}</div>\r\n            <div className=\"acd-main-value\">\r\n                <img src={this.appIcon} alt='' />\r\n                <span className=\"acd-subst-value\">\r\n                    {renderSubstitutedProp(this.app, AppProperty.URL)}\r\n                </span>\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n\r\n  renderWindowsDetails() {\r\n    return (\r\n        <>\r\n            {this.app[AppProperty.WINTYPE] === 'EXE' ? \r\n                <div className=\"acd-label\">{i18n.t('appdetails.exe-path')}</div>\r\n            :\r\n                <div className=\"acd-label\">{i18n.t('appdetails.win-id')}</div>\r\n            }\r\n            <div className=\"acd-main-value\">\r\n                <img src={this.appIcon} alt='' />\r\n                <span className=\"acd-subst-value\">\r\n                    {renderSubstitutedProp(this.app, AppProperty.WINEXE)}\r\n                </span>\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n\r\n  renderDesignDetails() {\r\n    return (\r\n        <>\r\n            <div className=\"acd-label\">{i18n.t('appdetails.wireframe')}</div>\r\n            <div className=\"acd-main-value\">\r\n                <img src={this.appIcon} alt='' />\r\n                <span className=\"acd-subst-value\">\r\n                    {renderSubstitutedProp(this.app, AppProperty.URL)}\r\n                </span>\r\n            </div>\r\n        </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    this.app = this.props.app;\r\n    this.appIcon = this.app[AppProperty.ICON]\r\n        || Platform.filter(p => p.type === this.app[AppProperty.TYPE])[0].svg;\r\n\r\n    const appType = this.app[AppProperty.TYPE];\r\n    const isWindows = (appType === PlatformName.WINDOWS);\r\n    const isWeb = (appType === PlatformName.WEB);\r\n    const isDesign = (appType === PlatformName.DESIGN);\r\n    return (\r\n        <>\r\n            <div className=\"acd\" ref={el => this.appDetails = el}>\r\n                <div ref={el => this.appVerdict = el} className=\"acd-verdict\" />\r\n                <div className=\"acd-content\">\r\n                    <span>\r\n                        {appType === PlatformName.ANDROID && this.renderAndroidDetails()}\r\n                        {appType === PlatformName.IOS && this.renderIosDetails()}\r\n                        {isWeb && this.renderWebDetails()}\r\n                        {isWindows && this.renderWindowsDetails()}\r\n                        {isDesign && this.renderDesignDetails()}\r\n\r\n                        <div className=\"acd-separator\" />\r\n                        <div className=\"acd-label\">{i18n.t('appdetails.description')}</div>\r\n                        <span className=\"acd-description\">{this.app[AppProperty.DESCRIPTION] || NA}</span>\r\n                        {isWindows && \r\n                            <>\r\n                                <div className=\"acd-separator\" />\r\n                                <div className=\"acd-label\">{i18n.t('appdetails.args')}</div>\r\n                                <span className=\"acd-subst-value\">\r\n                                    {renderSubstitutedProp(this.app, AppProperty.WINARGS, SubstName.SUBSTITUTERP1) || NA}\r\n                                </span>\r\n                                \r\n                                <div className=\"acd-separator\" />\r\n                                <div className=\"acd-label\">{i18n.t('appdetails.working-dir')}</div>\r\n                                <span className=\"acd-subst-value\">\r\n                                    {renderSubstitutedProp(this.app, AppProperty.WINDIR, SubstName.SUBSTITUTERP2) || NA}\r\n                                </span>\r\n                            </>\r\n                        }\r\n                    </span>\r\n\r\n                    <span ref={el => this.associatedTests = el}>\r\n                        <AppTests\r\n                            key={GetUUID()}\r\n                            appId={this.app[AppProperty.ID]}\r\n                            appVersion={this.app[AppProperty.INTERNALVERSION]}\r\n                            workspace={this.props.workspace}\r\n                        />\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            {Debug &&\r\n                <div className=\"acd-debug\">\r\n                    <ToggleButton\r\n                        className=\"p-button-secondary\"\r\n                        onLabel=\"- Show less\"\r\n                        offLabel=\"+ Show more\"\r\n                        checked={this.state.showAllDebugProps}\r\n                        onChange={(e) => this.setState({showAllDebugProps: e.value})} />\r\n                    <div dangerouslySetInnerHTML={{ __html: getPrettyJSON(this.app, true, !this.state.showAllDebugProps) }} />\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppDetails;","import i18n from '../i18n';\r\nimport { HomeApp } from '../utils/Constants';\r\n\r\nconst ValidatorErrorMsg ={\r\n    ILLEGAL_CHARACTER: i18n.t('validator.illegal-char'),\r\n    ILLEGAL_FORMAT: i18n.t('validator.illegal-format'),\r\n    URL_INVALID: i18n.t('validator.url-invalid'),\r\n    URL_PROTOCOL_MISSING: i18n.t('validator.url-protocol-missing'),\r\n    URL_DOMAIN_INCORRECT: i18n.t('validator.url-domain-incorrect'),\r\n    WIN_SUFFIX_MISSING: i18n.t('validator.win-suffix-missing'),\r\n    WIN_DRIVE_MISSING: i18n.t('validator.win-drive-missing'),\r\n    WIN_PATH_MISSING: i18n.t('validator.win-path-missing'),\r\n    WIN_EXT_MISSING: i18n.t('validator.win-ext-missing')\r\n};\r\n\r\nexport function isWebURL(str) {\r\n    let ret = { result: true, error: '' };\r\n    const pattern = new RegExp('^(https?:\\\\/\\\\/)+','i');\r\n\r\n    if (!pattern.test(str)) {\r\n        ret.result = false;\r\n        ret.error = ValidatorErrorMsg.URL_PROTOCOL_MISSING;\r\n    }\r\n    else {\r\n        try {\r\n            if (!new RegExp('^(.+\\\\.)+.{2,}|localhost', 'i').test(new URL(str).hostname)) {\r\n                ret.result = false;\r\n                ret.error = ValidatorErrorMsg.URL_DOMAIN_INCORRECT;\r\n            }\r\n        }\r\n        catch(e) {\r\n            ret.result = false;\r\n            ret.error = ValidatorErrorMsg.URL_INVALID;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\n\r\nexport function isAndroidPackage(str) {\r\n    let ret = { result: true, error: '' };\r\n\r\n    if (str === HomeApp) return ret;\r\n\r\n    const pattern = new RegExp('^[a-z][a-z0-9_-]*(\\\\.[a-z0-9_-]+)+[0-9a-z_-]$','i');\r\n\r\n    if (!pattern.test(str)) {\r\n        ret.result = false;\r\n        ret.error = ValidatorErrorMsg.ILLEGAL_CHARACTER; // default\r\n        \r\n\t\tif (!new RegExp('^(?!\\\\.).*(\\\\..+)+(?!\\\\.).$','i').test(str)) {\r\n            ret.error = ValidatorErrorMsg.ILLEGAL_FORMAT;\r\n\t\t}\r\n\t}\r\n    return ret;\r\n}\r\n\r\nexport function isAndroidActivity(str) {\r\n    return isAndroidPackage(str);\r\n}\r\n\r\nexport function isIosBundleId(str) {\r\n    return isAndroidPackage(str);\r\n}\r\n\r\nexport function isWindowsId(str) {\r\n    let ret = { result: true, error: '' };\r\n    const pattern = new RegExp('^(.+)!(.+)$','i');\r\n\r\n    if (!pattern.test(str)) {\r\n        ret.result = false;\r\n        ret.error = ValidatorErrorMsg.ILLEGAL_FORMAT; // default\r\n\t}\r\n    return ret;\r\n}\r\n\r\nexport function isWindowsPath(str) {\r\n    let ret = { result: true, error: '' };\r\n    const pattern = new RegExp('^[a-zA-Z]:\\\\\\\\(((?![<>:\"/\\\\\\\\|?*]).)+((?<![ .])\\\\\\\\)?)+(\\\\..+)$', 'i');\r\n\r\n    if (!pattern.test(str)) {\r\n        ret.result = false;\r\n        ret.error = ValidatorErrorMsg.ILLEGAL_CHARACTER; // default\r\n        \r\n\t\tif (!new RegExp('^[a-zA-Z]:\\\\\\\\','i').test(str)) {\r\n            ret.error = ValidatorErrorMsg.WIN_DRIVE_MISSING;\r\n        }\r\n        else {\r\n            if (!new RegExp('^[a-zA-Z]:\\\\\\\\.+','i').test(str)) {\r\n                ret.error = ValidatorErrorMsg.WIN_PATH_MISSING;\r\n            }\r\n            else if(!new RegExp('(\\\\..+)$','i').test(str)) {\r\n                ret.error = ValidatorErrorMsg.WIN_EXT_MISSING;\r\n            }\r\n        }\r\n\t}\r\n    return ret;\r\n}\r\n","export function getWebIcon(url) {\r\n  const iconSize = 48;\r\n  const prefixUrl = 'https://s2.googleusercontent.com/s2/favicons?sz=' + iconSize + '&domain_url=';\r\n  let domainUrl = url;\r\n  try {\r\n    const urlObject = new URL(url);\r\n    domainUrl = urlObject.origin + urlObject.pathname;\r\n  }\r\n  catch(exception) {}\r\n\r\n  return new Promise((resolve, reject) => {\r\n    var img = new Image()\r\n    img.onload = () => {\r\n      // In case there is no associated icon, the returned image is 16*16\r\n      (img.naturalWidth === 16 && img.naturalHeight === 16) ? reject() : resolve(img.src)\r\n    };\r\n    img.onerror = () => reject();\r\n    img.src = prefixUrl + domainUrl\r\n  });\r\n}\r\n\r\nexport function getScaledIcon(img, w, h) {\r\n  let dataURL = img.currentSrc;\r\n\r\n  if (dataURL) {\r\n    //if (img.naturalWidth > img.width\r\n    //   || img.naturalHeight > img.height) {\r\n          // Compressing image\r\n          var canvas = document.createElement(\"canvas\");\r\n          var ctx = canvas.getContext(\"2d\");\r\n          // Default size: 48*48\r\n          canvas.width = w || 48;\r\n          canvas.height = h || 48;\r\n          ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n          dataURL = canvas.toDataURL();\r\n    // }\r\n  }\r\n\r\n  return dataURL;\r\n}\r\n","import React, { Component } from 'react';\r\nimport './AppIconSelector.scss';\r\nimport { Platform } from './Constants';\r\nimport { getScaledIcon } from './AppIconUtils';\r\n\r\nexport class AppIconSelector extends Component {\r\n\r\n  constructor() {\r\n      super();\r\n      this.inputIconFile = null;\r\n  }\r\n\r\n  getIcon() {\r\n    let defaultIcon = Platform.filter(p => p.type === this.props.platform)[0].svg;\r\n    return this.props.icon || defaultIcon;\r\n  }\r\n\r\n  onClick = e => {\r\n    if (e.keyCode && e.keyCode !== 13) return;\r\n    this.inputIconFile.value = '';\r\n    this.inputIconFile.click();\r\n  }\r\n\r\n  onClickBadge = e => {\r\n    if (e.keyCode && e.keyCode !== 13) return;\r\n    if (this.props.isSelected) {\r\n      e.stopPropagation();\r\n      this.props.onRemove();\r\n    }\r\n  }\r\n\r\n  onSelectIcon = (file) => {\r\n    var fr = new FileReader();\r\n    fr.readAsDataURL(file);\r\n\r\n    fr.onload = function () {\r\n      let img = new Image();\r\n      img.onload = (e) => {\r\n        this.props.onSelect(getScaledIcon(e.currentTarget));\r\n      }\r\n      img.src = fr.result;\r\n    }.bind(this);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <span\r\n          className=\"ais\"\r\n          tabIndex=\"0\"\r\n          style={{marginLeft: 0}}\r\n          onClick={e => this.onClick(e)}\r\n          onKeyDown={e => this.onClick(e)}>\r\n            <input\r\n                ref={el => this.inputIconFile = el}\r\n                type=\"file\"\r\n                accept=\".png,.jpg,.jpeg,.gif,.bmp,.svg\"\r\n                onChange={(e) => this.onSelectIcon(e.currentTarget.files[0])}\r\n            />\r\n            <img src={this.getIcon()} alt='' />\r\n            <span\r\n              className={'ais-badge' + (this.props.isSelected ? ' selected' : '')}\r\n              tabIndex=\"0\"\r\n              onClick={e => this.onClickBadge(e)}\r\n              onKeyDown={e => this.onClickBadge(e)}>\r\n                <span className={this.props.isSelected ? 'selected' : ''} />\r\n            </span>\r\n        </span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppIconSelector;\r\n","import React, { Component } from 'react';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { AppProperty, PlatformName } from '../utils/Constants';\r\nimport { isWebURL } from '../utils/Validator';\r\nimport { AppIconSelector } from '../utils/AppIconSelector';\r\nimport { getWebIcon } from '../utils/AppIconUtils';\r\nimport i18n from '../i18n';\r\n\r\nexport class AppFormWeb extends Component {\r\n  constructor() {\r\n      super();\r\n      this.state = {\r\n        isValidURL: null\r\n      };\r\n      this.validationTimeout = null;\r\n      this.inputIconFile = null;\r\n  }\r\n\r\n  suggestAppProps = e => {\r\n    if (!this.props.appProperties[AppProperty.NAME]) {\r\n      try {\r\n          const url = new URL(e.target.value);\r\n          this.props.setAppProperty(AppProperty.NAME, url.hostname);\r\n      }\r\n      catch(exception) {\r\n        console.log('URL is malformed');\r\n      }\r\n    }\r\n  }\r\n\r\n  validateURL = timeout => {\r\n    const value = this.props.appProperties[AppProperty.URL];\r\n    window.clearTimeout(this.validationTimeout);\r\n    this.props.onValidation(false);\r\n    this.setState({ isValidURL: null });\r\n    if (!value) {\r\n      this.resetIcon();\r\n      return;\r\n    }\r\n\r\n    this.validationTimeout = window.setTimeout(() => {\r\n      const isValidURL = isWebURL(value);\r\n      this.setState({ isValidURL });\r\n      this.props.onValidation(isValidURL.result);\r\n      \r\n      if (this.props.appProperties[AppProperty.ICON].startsWith('data:image')) return;\r\n\r\n      // Update app icon\r\n      if (isValidURL.result) {\r\n        getWebIcon(value).then(iconUrl => {\r\n          this.props.setAppProperty(AppProperty.ICON, iconUrl);\r\n        })\r\n        .catch(() => {\r\n          this.resetIcon();\r\n        });\r\n      }\r\n      else {\r\n        this.resetIcon();\r\n      }\r\n    }, timeout || 0);\r\n  }\r\n\r\n  /*\r\n   * App Icon\r\n  */\r\n  resetIcon() {\r\n    if (!this.isSelectedIcon()\r\n        && this.props.appProperties[AppProperty.ICON]) {\r\n      this.props.setAppProperty(AppProperty.ICON, '');\r\n    }\r\n  }\r\n\r\n  isSelectedIcon() {\r\n    return this.props.appProperties[AppProperty.ICON].startsWith('data:image');\r\n  }\r\n\r\n  onRemoveIcon = () => {\r\n    this.props.setAppProperty(AppProperty.ICON, '');\r\n    this.validateURL();\r\n  }\r\n\r\n  onSelectIcon = (dataURL) => {\r\n    this.props.setAppProperty(AppProperty.ICON, dataURL);\r\n  }\r\n\r\n  validateFiles = (eve) => {\r\n    this.props.onValueChange(eve);\r\n  }\r\n\r\n  render() {\r\n    let lblClassName = 'ac-dlg-label ac-required';\r\n    let errorMsg = '';\r\n    if (this.state.isValidURL !== null) {\r\n      lblClassName += (this.state.isValidURL.result) ? ' ac-valid-input' : ' ac-invalid-input';\r\n      errorMsg = this.state.isValidURL.error;\r\n    }\r\n    return (\r\n        <>            \r\n            <label className={lblClassName} htmlFor={AppProperty.URL}>\r\n                <div>{i18n.t('appdetails.url')}</div>\r\n                <span>\r\n                  <InputText\r\n                      defaultValue = {this.props.designEnableState ? \"https://www.hcl.com\" : this.props.appProperties[AppProperty.URL]}\r\n                      name={AppProperty.URL}\r\n                      className=\"ac-focus\"\r\n                      placeholder=\"https://www.hcl.com\"\r\n                      onChange={e => {this.props.onValueChange(e); this.validateURL(1000)}}\r\n                      onBlur={this.suggestAppProps}\r\n                      autoComplete=\"off\"\r\n                  />\r\n \r\n                  <AppIconSelector\r\n                    platform={PlatformName.WEB}\r\n                    icon={this.props.appProperties[AppProperty.ICON]}\r\n                    isSelected={this.isSelectedIcon()}\r\n                    onSelect={this.onSelectIcon}\r\n                    onRemove={this.onRemoveIcon}\r\n                    \r\n                  />\r\n                </span>\r\n            </label>\r\n            <span className=\"ac-invalid-input-msg\">{errorMsg}</span>\r\n        </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppFormWeb;","import React, { Component } from 'react';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { AriaType, setAriaProps } from './AriaUtils';\r\n\r\nexport class AccessibleDropdown extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n          valueSubmitted: null\r\n        };\r\n        this.dropdown = null;    \r\n    }\r\n\r\n  componentDidUpdate() {\r\n    setAriaProps(AriaType.DROPDOWN, '.act-dropdown');\r\n  }\r\n\r\n  onKeyDown = (e) => {\r\n    if (e.keyCode === 9 || e.keyCode === 13) {\r\n      if (this.state.valueSubmitted !== this.props.value) {\r\n        this.props.onSubmit(this.props.value);\r\n        this.setState({ valueSubmitted: this.props.value });\r\n      }\r\n    }\r\n\r\n\r\n    if (this.dropdown.filterInput) {\r\n      if (e.keyCode === 32) {\r\n        // Give focus to the filter input if any\r\n        window.setTimeout(() => {\r\n          this.dropdown.filterInput.focus();\r\n        }, 0);\r\n      }\r\n\r\n      if (e.keyCode === 9) {\r\n        // Give focus to the next input element\r\n        window.setTimeout(() => {\r\n          let filterInputFound = false;\r\n          document.querySelectorAll('input').forEach(input => {\r\n            if (filterInputFound) input.focus();\r\n            filterInputFound = (input === this.dropdown.filterInput);\r\n          });\r\n        }, 0);\r\n      }\r\n    }\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.props.onChange(e.value);\r\n    if (e.originalEvent.keyCode) return;\r\n\r\n    this.props.onSubmit(e.value);\r\n    this.setState({ valueSubmitted: e.value });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <Dropdown\r\n            ref={el => this.dropdown = el}\r\n            value={this.props.value}\r\n            options={this.props.options}\r\n            className=\"act-dropdown\"\r\n            ariaLabel={this.props.ariaLabel}\r\n            placeholder={this.props.placeholder}\r\n            filter={this.props.filter}\r\n            filterPlaceholder={this.props.filterPlaceholder}\r\n            disabled={this.props.disabled}\r\n            onChange={(e) => this.onChange(e)}\r\n            onKeyDown={this.onKeyDown}\r\n            />\r\n    );\r\n  }\r\n}\r\n\r\nexport default AccessibleDropdown;","import { AppProperty } from './Constants';\r\n\r\nexport function getAndroidProps(data) {\r\n    let name = data.package;\r\n    try {\r\n        name = data.application.label[0].replaceAll(String.fromCharCode(0), '');\r\n    }\r\n    catch(e) {\r\n        console.log('Application name could not be extracted.');\r\n    }\r\n    \r\n    let activity = data.application.launcherActivities[0].name.replace(/^\\./,'');\r\n    if (!activity.includes('.')) {\r\n        activity = data.package + '.' + activity;\r\n    }\r\n\r\n    return {\r\n        [AppProperty.PACKAGE]: data.package,\r\n        [AppProperty.ACTIVITY]: activity,\r\n        [AppProperty.NAME]: name,\r\n        [AppProperty.VERSION]: data.versionName || '',\r\n        [AppProperty.ICON]: data.icon\r\n    }\r\n}\r\n\r\nexport function getiOSProps(data) {\r\n    return {\r\n        [AppProperty.BUNDLE]: data.CFBundleIdentifier,\r\n        [AppProperty.NAME]: data.CFBundleName,\r\n        [AppProperty.VERSION]: data.CFBundleShortVersionString || '',\r\n        [AppProperty.ICON]: data.icon\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/drop.5533d216.svg\";","import React, { Component } from 'react';\r\nimport './AppFileSelector.scss';\r\nimport AppInfoParser from 'app-info-parser';\r\nimport { getAndroidProps, getiOSProps } from './AppInfoParserUtils';\r\nimport Tooltip from './Tooltip';\r\nimport i18n from '../i18n';\r\nimport { PlatformName, AppProperty, Debug } from './Constants';\r\nimport { getScaledIcon } from './AppIconUtils';\r\nimport SVG_Drop from '../resources/icons/drop.svg';\r\nimport SVG_Android from '../resources/icons/android.svg';\r\nimport SVG_Ios from '../resources/icons/ios.svg';\r\n\r\nconst pbThreshold = 150;\r\nexport class AppFileSelector extends Component {\r\n\r\n    constructor(props) {\r\n        super();\r\n        this.state = { \r\n            result: null,\r\n            parsing: false,\r\n            dragging: false\r\n        }\r\n        this.isAndroid = (props.platform === PlatformName.ANDROID);\r\n        this.accept = (this.isAndroid) ? \".apk\" : \".ipa\" ;\r\n        this.msg = (this.isAndroid) ? i18n.t('appfileselector.android-msg') : i18n.t('appfileselector.ios-msg');\r\n        this.inputFile = null;\r\n        this.pbTimeout = null;\r\n        this.dragEnterCounter = 0;\r\n    }\r\n    \r\n    componentDidMount() {\r\n        const result = this.props.appProperties;\r\n        this.setState({result});\r\n    }\r\n\r\n    startProgressBar() {\r\n        this.pbTimeout = window.setTimeout(() => {\r\n            this.setState({ parsing: true })}\r\n            , pbThreshold);\r\n\r\n    }\r\n\r\n    parse(file) {\r\n        let result = null;\r\n        let errorMsg = '';\r\n        this.props.onSelection(result, errorMsg); // reset\r\n\r\n        if (!file || !file.name.endsWith(this.accept)) {\r\n            this.setState({result});\r\n            this.props.onSelection(result, i18n.t('appform.error-parser-format'));\r\n            return;\r\n        }\r\n\r\n        // Display a progress bar after a few ms and for at least 1s.\r\n        const startTime = Date.now();\r\n        this.pbTimeout = window.setTimeout(() =>\r\n            this.setState({ parsing: true }), pbThreshold);\r\n\r\n        const parser = new AppInfoParser(file);\r\n        parser.parse().then(data => {\r\n            if (Debug) console.log(data);\r\n            \r\n            result = (this.isAndroid)\r\n                ? getAndroidProps(data) \r\n                : getiOSProps(data);\r\n            result[AppProperty.FILE] = file.name;\r\n            result[AppProperty.NAME] = file.name;\r\n        })\r\n        .catch(e => {\r\n            errorMsg = i18n.t('appform.error-parser');\r\n            console.log(errorMsg + ': ' + e);\r\n        })\r\n        .finally(() => {\r\n            const parsingTime = Date.now() - startTime;\r\n            window.clearTimeout(this.pbTimeout);\r\n            window.setTimeout(() => {\r\n                    this.props.onSelection(result, errorMsg);\r\n                    this.setState({ result, parsing: false });\r\n                }, (parsingTime > pbThreshold) ? 1000 + pbThreshold - parsingTime : 0);\r\n        });\r\n    }\r\n\r\n    onDrag = (e) => {\r\n        e.preventDefault();\r\n    }\r\n\r\n    onDragEnter = () => {\r\n        this.dragEnterCounter++;\r\n        this.setState({ dragging: true });\r\n    }\r\n\r\n    onDragLeave = () => {\r\n        this.dragEnterCounter--;\r\n        if (this.dragEnterCounter === 0) this.setState({ dragging: false });\r\n    }\r\n    \r\n    onDrop = (e) => {\r\n        this.dragEnterCounter = 0;\r\n        this.setState({ dragging: false });\r\n        this.parse(e.dataTransfer.files[0]);\r\n        e.preventDefault();\r\n    }\r\n\r\n    onInputFileClick = (e) => {\r\n        if (e.keyCode && e.keyCode !== 13) return;\r\n        this.inputFile.value = '';\r\n        this.inputFile.click();\r\n    }\r\n\r\n    onCancel = (e) => {\r\n        if (e.keyCode && e.keyCode !== 13) return;\r\n        this.props.onSelection(null);\r\n        this.props.onIconLoad(null);\r\n        this.setState({ result: null });\r\n        e.stopPropagation();\r\n    }\r\n\r\n    onIconLoad = (e) => {\r\n        const dataURL = getScaledIcon(e.currentTarget);\r\n        this.props.onIconLoad(dataURL ? dataURL : '');\r\n    }\r\n\r\n    render() {\r\n        const parsingClassName = (this.state.parsing) ? ' as-parsing' : '';\r\n        const draggingClassName = (this.state.dragging) ? ' as-dragging' : '';\r\n        return (\r\n            <div className=\"as\">\r\n                <input\r\n                    ref={el => this.inputFile = el}\r\n                    type=\"file\"\r\n                    accept={this.accept}\r\n                    onChange={(e) => this.parse(e.currentTarget.files[0])} />\r\n                <div className={'as-drop-area' + parsingClassName + draggingClassName}\r\n                    tabIndex=\"0\"\r\n                    onDrop={e => this.onDrop(e)}\r\n                    onDragOver={e => this.onDrag(e)}\r\n                    onDragEnter={this.onDragEnter}\r\n                    onDragLeave={this.onDragLeave}\r\n                    onClick={e => this.onInputFileClick(e)}\r\n                    onKeyDown={e => this.onInputFileClick(e)}>\r\n\r\n                    {this.state.parsing\r\n                        ? <div className=\"as-parsing-icon\" />\r\n                        : this.state.result && this.state.result[AppProperty.FILE] ?\r\n                            <>\r\n                                {this.state.result[AppProperty.ICON] ?\r\n                                    <img src={this.state.result[AppProperty.ICON]} alt='' onLoad={e => this.onIconLoad(e)}/> :\r\n                                    this.isAndroid\r\n                                        ? <img src={SVG_Android} alt='' onLoad={e => this.onIconLoad(e)} />\r\n                                        : <img src={SVG_Ios} alt='' onLoad={e => this.onIconLoad(e)} />\r\n                                }\r\n                                \r\n                                <div>\r\n                                    {this.isAndroid\r\n                                        ? <span className=\"as-app-id\">{this.state.result[AppProperty.PACKAGE]}</span>\r\n                                        : <span className=\"as-app-id\">{this.state.result[AppProperty.BUNDLE]}</span>\r\n                                    }\r\n                                </div>\r\n                                \r\n                                <div className=\"as-cancel\">\r\n                                    <Tooltip id=\"cancel\" placement=\"left\" text={i18n.t('appfileselector.clear')} />\r\n                                    <span\r\n                                        id=\"cancel\"\r\n                                        tabIndex=\"0\"\r\n                                        onClick={e => this.onCancel(e)}\r\n                                        onKeyDown={e => this.onCancel(e)} />\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <img src={SVG_Drop} alt='' />\r\n                                <span>{this.msg}</span>\r\n                            </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppFileSelector;\r\n","export default __webpack_public_path__ + \"static/media/info.0b15cc76.svg\";","import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { APIBaseUrl, AndroidType, AndroidTypeName, AppProperty, HomeApp, PlatformName } from '../utils/Constants';\r\nimport { isAndroidPackage, isAndroidActivity } from '../utils/Validator';\r\nimport { RadioButton } from 'primereact/radiobutton';\r\nimport { AccessibleDropdown } from '../utils/AccessibleDropdown';\r\nimport AppFileSelector from '../utils/AppFileSelector';\r\nimport { AppIconSelector } from '../utils/AppIconSelector';\r\nimport { AriaType, setAriaProps } from '../utils/AriaUtils';\r\nimport AppInfoParser from 'app-info-parser';\r\nimport { getAndroidProps } from '../utils/AppInfoParserUtils';\r\nimport { getScaledIcon } from '../utils/AppIconUtils';\r\nimport { Tooltip } from 'primereact/tooltip';\r\nimport SVG_Info from '../resources/icons/info.svg';\r\nimport i18n from '../i18n';\r\n\r\nexport class AppFormAndroid extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            isValidPackage: null,\r\n            isValidActivity: null,\r\n            androidType: AndroidTypeName.MANUAL,\r\n\r\n            devices: [],\r\n            selectedDevice: null,\r\n            devicesRunningTask: false,\r\n\r\n            packages: [],\r\n            selectedPackage: null,\r\n            packagesRunningTask: false,\r\n\r\n            emulatorId: null\r\n        };\r\n        this.validationPkgTimeout = null;\r\n        this.validationActTimeout = null;\r\n\r\n        this.getPackages = this.getPackages.bind(this);\r\n        this.pullApk = this.pullApk.bind(this);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        setAriaProps(AriaType.RADIO, '.act-radiobutton');\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        axios.delete(APIBaseUrl + '/androidEmu');\r\n    }\r\n\r\n    suggestAppProps = e => {\r\n        this.validatePackage();\r\n        if (isAndroidPackage(e.target.value).result) {\r\n            if (!this.props.appProperties[AppProperty.NAME]) {\r\n                this.props.setAppProperty(AppProperty.NAME, e.target.value);\r\n            }\r\n            if (!this.props.appProperties[AppProperty.ACTIVITY]) {\r\n                const activity = (e.target.value === HomeApp) ? '' : '.MainActivity';\r\n                this.props.setAppProperty(AppProperty.ACTIVITY, e.target.value + activity);\r\n                this.setState({ isValidActivity: {result: true} });\r\n                this.props.onValidation(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    validatePackage = timeout => {\r\n        const value = this.props.appProperties[AppProperty.PACKAGE];\r\n        window.clearTimeout(this.validationPkgTimeout);\r\n        this.props.onValidation(false);\r\n        this.setState({ isValidPackage: null });\r\n        if (!value) return;\r\n\r\n        this.validationPkgTimeout = window.setTimeout(() => {\r\n            const isValidPackage = isAndroidPackage(value);\r\n            this.setState({ isValidPackage });\r\n            const isValidPkgResult = isValidPackage.result;\r\n            const isValidActResult = (this.state.isValidActivity !== null) ? this.state.isValidActivity.result : false;\r\n            this.props.onValidation(isValidPkgResult && isValidActResult);\r\n        }, timeout || 0);\r\n    }\r\n\r\n    validateActivity = timeout => {\r\n        const value = this.props.appProperties[AppProperty.ACTIVITY];\r\n        window.clearTimeout(this.validationActTimeout);\r\n        this.props.onValidation(false);\r\n        this.setState({ isValidActivity: null });\r\n        if (!value) return;\r\n\r\n        this.validationActTimeout = window.setTimeout(() => {\r\n            const isValidActivity = isAndroidActivity(value);\r\n            this.setState({ isValidActivity });\r\n            const isValidPkgResult = (this.state.isValidPackage !== null) ? this.state.isValidPackage.result : false;\r\n            const isValidActResult = isValidActivity.result;\r\n            this.props.onValidation(isValidPkgResult && isValidActResult);\r\n        }, timeout || 0);\r\n    }\r\n\r\n    onAndroidTypeChange = (e) => {\r\n        this.setState({ androidType: e.value });\r\n        this.props.onValidation(false);\r\n\r\n        if (e.value === AndroidTypeName.APK\r\n            && !this.props.appProperties[AppProperty.FILE]) return;\r\n\r\n        if (e.value === AndroidTypeName.DEVICE) {\r\n            if (this.state.devices.length === 0) this.getDevices();\r\n            if (!this.props.appProperties[AppProperty.DEVICE]) return;\r\n        }\r\n\r\n        this.validatePackage();\r\n        this.validateActivity();\r\n    }\r\n\r\n    resetApkForm() {\r\n        this.props.setAppProperty(AppProperty.FILE, null);\r\n    }\r\n\r\n    resetDeviceForm() {\r\n        this.props.setAppProperty(AppProperty.DEVICE, null);\r\n        this.setState({selectedDevice: null, selectedPackage: null, emulatorId: null});\r\n    }\r\n\r\n    /*\r\n    *   From APK\r\n    */\r\n    onApkSelection = (selection, errorMsg) => {\r\n        this.resetDeviceForm();\r\n        if (selection) {\r\n            Object.keys(selection).forEach(k => selection[k] && this.props.setAppProperty(k, selection[k]));\r\n            this.props.onValidation(!!selection[AppProperty.FILE], errorMsg);\r\n        }\r\n        else {\r\n            this.props.setAppProperty(AppProperty.FILE, null);\r\n            this.props.setAppProperty(AppProperty.PACKAGE, '');\r\n            this.props.setAppProperty(AppProperty.ACTIVITY, '');\r\n            this.props.setAppProperty(AppProperty.ICON, null);\r\n            this.props.onValidation(false, errorMsg);\r\n        }\r\n    }\r\n\r\n    onApkIconLoad = (dataURL) => {\r\n        this.props.setAppProperty(AppProperty.ICON, dataURL);\r\n    }\r\n\r\n    onPackageChange = (e) => {\r\n        this.props.onValueChange(e);\r\n        this.validatePackage(1000);\r\n\r\n        // Reset other form types\r\n        this.resetApkForm();\r\n        this.resetDeviceForm();\r\n    }\r\n\r\n    /*\r\n    *   From device\r\n    */\r\n    getDevices() {\r\n        this.setState({ devicesRunningTask: true });\r\n\r\n        const url = APIBaseUrl + \"/androidDevices/\";\r\n        axios.get(url).then((response) => {\r\n            let devices = [];\r\n            response.data.map((d, index) => {\r\n                const deviceType = i18n.t('appformdevice.type.' + d.type.toLowerCase());\r\n                return devices.push({label: deviceType + ':' + d.model, value: index, name: d.name})\r\n            });\r\n            this.setState({ devices });\r\n        })\r\n        .catch(() => {\r\n            console.log('Could not retrieve device list');\r\n        })\r\n        .finally(() => {\r\n            this.setState({ devicesRunningTask: false });\r\n        });\r\n    }\r\n\r\n    onDeviceSelection = (value) => {\r\n        this.setState({ selectedDevice: value, selectedPackage: null, emulatorId: null });\r\n    }\r\n\r\n    getPackages(value) {\r\n        this.setState({ packagesRunningTask: true });\r\n        const deviceId = this.state.devices[value].name;\r\n        const url = APIBaseUrl + \"/androidApps/?deviceId=\" + deviceId + \"&thirdParty=true\";\r\n        axios.get(url).then((response) => {\r\n            let packages = [];\r\n            response.data.packList.sort().map((p, index) => {\r\n                return packages.push({label: p, value: index})\r\n            });\r\n            this.setState({ packages, emulatorId: response.data.emulatorId });\r\n        })\r\n        .catch(() => {\r\n            console.log('Could not retrieve packages list');\r\n        })\r\n        .finally(() => {\r\n            this.setState({ packagesRunningTask: false });\r\n        });\r\n    }\r\n\r\n    onPackageSelection = (value) => {\r\n        this.resetApkForm();\r\n        this.setState({ selectedPackage: value });\r\n        this.props.onValidation(false);\r\n    }\r\n\r\n    pullApk(value) {\r\n        this.setState({ packagesRunningTask: true });\r\n        const url = APIBaseUrl + \"/androidApk/package?emulator=\" + this.state.emulatorId + \"&packName=\" + this.state.packages[value].label;\r\n        // Download APK and extract app details\r\n        axios.get(url, { responseType: 'arraybuffer' }).then((response) => {\r\n            const parser = new AppInfoParser(new File([response.data], 'base.apk'));\r\n            parser.parse().then(data => {\r\n                const apkProps = getAndroidProps(data);\r\n                Object.keys(apkProps).forEach(k => this.props.setAppProperty(k, apkProps[k]));\r\n                this.props.setAppProperty(AppProperty.DEVICE, this.state.selectedDevice);\r\n                this.props.onValidation(true);\r\n            })\r\n            .catch(() => {\r\n                console.log('Could not extract APK details');\r\n                this.props.onValidation(false, i18n.t('appform.error-no-activity'));\r\n            })\r\n            .finally(() => {\r\n                this.setState({ packagesRunningTask: false });\r\n            });\r\n        })\r\n        .catch(() => {\r\n            console.log('Could not retrieve APK');\r\n            this.setState({ packagesRunningTask: false });\r\n        })\r\n    }\r\n\r\n    /*\r\n    *   Render functions\r\n    */\r\n    renderManualType() {\r\n        let lblPkgClassName = 'ac-dlg-label ac-required';\r\n        let pkgErrorMsg = '';\r\n        let actErrorMsg = '';\r\n        if (this.state.isValidPackage !== null) {\r\n            lblPkgClassName += (this.state.isValidPackage.result) ? ' ac-valid-input' : ' ac-invalid-input';\r\n            pkgErrorMsg = this.state.isValidPackage.error;\r\n        }\r\n\r\n        let lblActClassName = 'ac-dlg-label ac-required';\r\n        if (this.state.isValidActivity !== null) {\r\n            lblActClassName += (this.state.isValidActivity.result) ? ' ac-valid-input' : ' ac-invalid-input';\r\n            actErrorMsg = this.state.isValidActivity.error;\r\n        }\r\n        return (\r\n            <>\r\n                <label className={lblPkgClassName} htmlFor={AppProperty.PACKAGE}>\r\n                    <div>{i18n.t('appdetails.package')}</div>\r\n                    <span>\r\n                        <InputText\r\n                            value={this.props.appProperties[AppProperty.PACKAGE]}\r\n                            name={AppProperty.PACKAGE}\r\n                            className=\"ac-focus\"\r\n                            placeholder=\"com.hcl.application\"\r\n                            onChange={e => {this.onPackageChange(e)}}\r\n                            onFocus={() => {this.validatePackage(); this.validateActivity()}}\r\n                            onBlur={this.suggestAppProps}\r\n                            autoComplete=\"off\"\r\n                        />\r\n                        \r\n                        <AppIconSelector\r\n                            platform={PlatformName.ANDROID}\r\n                            icon={this.props.appProperties[AppProperty.ICON]}\r\n                            isSelected={!!this.props.appProperties[AppProperty.ICON]}\r\n                            onSelect={(data) => this.props.setAppProperty(AppProperty.ICON, data)}\r\n                            onRemove={() => this.props.setAppProperty(AppProperty.ICON, '')}\r\n                        />\r\n                    </span>\r\n                </label>\r\n                <span className=\"ac-invalid-input-msg\">{pkgErrorMsg}</span>\r\n                <label className={lblActClassName} htmlFor={AppProperty.ACTIVITY}>\r\n                    <div>{i18n.t('appdetails.activity')}</div>\r\n                    <InputText\r\n                        value={this.props.appProperties[AppProperty.ACTIVITY]}\r\n                        name={AppProperty.ACTIVITY}\r\n                        placeholder=\"com.hcl.application.MainActivity\"\r\n                        onChange={e => {this.props.onValueChange(e); this.validateActivity(1000)}}\r\n                        autoComplete=\"off\"\r\n                    />\r\n                    {/*<span />icon*/}\r\n                </label>\r\n                <span className=\"ac-invalid-input-msg\">{actErrorMsg}</span>\r\n            </>\r\n        );\r\n    }\r\n\r\n    renderApkType() {\r\n        return (\r\n            <AppFileSelector \r\n                platform={PlatformName.ANDROID}\r\n                onSelection={this.onApkSelection}\r\n                onIconLoad={this.onApkIconLoad}\r\n                appProperties={this.props.appProperties}\r\n            />\r\n        );\r\n    }\r\n\r\n    renderDeviceType() {\r\n        const icon = this.props.appProperties[AppProperty.ICON];\r\n        const isSelectedDevice = (this.state.selectedDevice !== null);\r\n        const lblPkgClassName = (isSelectedDevice) ? '' : ' disabled';\r\n        return (\r\n            <>\r\n                <label className=\"ac-dlg-label ac-required\" htmlFor={AppProperty.DEVICE}>\r\n                    <div>{i18n.t('appformdevice.device')}</div>\r\n                    {this.state.devicesRunningTask && <span className=\"ac-dropdown-badge running\"/>}\r\n                </label>\r\n                <AccessibleDropdown\r\n                    value={this.state.selectedDevice}\r\n                    options={this.state.devices}\r\n                    ariaLabel={i18n.t('appformdevice.device')}\r\n                    placeholder={(this.state.devices.length !== 0) ? i18n.t('appformdevice.device-ph') : ''}\r\n                    disabled={this.state.devicesRunningTask}\r\n                    onChange={this.onDeviceSelection}\r\n                    onSubmit={this.getPackages}\r\n                    />\r\n                <label className={'ac-dlg-label ac-required' + lblPkgClassName} htmlFor={AppProperty.PACKAGE}>\r\n                    <div>{i18n.t('appformdevice.package')}</div>\r\n                    {this.state.packagesRunningTask ?\r\n                        <span className=\"ac-dropdown-badge running\"/> :\r\n                        (typeof this.props.appProperties[AppProperty.DEVICE] === 'number' && icon) &&\r\n                            <img className=\"ac-dropdown-badge\"\r\n                                src={icon}\r\n                                alt=''\r\n                                onLoad={e => this.props.setAppProperty(AppProperty.ICON, getScaledIcon(e.currentTarget))}\r\n                                onError={() => this.props.setAppProperty(AppProperty.ICON, null)} />\r\n                    }\r\n                </label>\r\n                {!isSelectedDevice &&\r\n                    <>\r\n                        <Tooltip target=\"#_lbl_tooltip\" />\r\n                        <img id={'_lbl_tooltip'} className='ac-dlg-tooltip' src={SVG_Info} alt=''\r\n                        data-pr-tooltip={i18n.t('appformdevice.package-tooltip')}\r\n                        data-pr-position=\"right\"/>\r\n                    </>\r\n                }\r\n                <AccessibleDropdown\r\n                    value={this.state.selectedPackage}\r\n                    options={this.state.packages}\r\n                    ariaLabel={i18n.t('appformdevice.package')}\r\n                    placeholder={(this.state.packages.length !== 0) ? i18n.t('appformdevice.package-ph') : ''}\r\n                    filter\r\n                    filterPlaceholder={i18n.t('appformdevice.package-filter-ph')}\r\n                    disabled={!isSelectedDevice || this.state.packagesRunningTask}\r\n                    onChange={this.onPackageSelection}\r\n                    onSubmit={this.pullApk}\r\n                    />\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className=\"act-radiogroup\">\r\n                    {AndroidType.map(at => {\r\n                        return (\r\n                            <span key={at.type} className=\"act-radiobutton\">\r\n                                <RadioButton\r\n                                    value={at.type}\r\n                                    inputId={at.type}\r\n                                    onChange={this.onAndroidTypeChange}\r\n                                    checked={this.state.androidType === at.type}\r\n                                />\r\n                                <label id={'_' + at.type} htmlFor={at.type}>{at.label}</label>\r\n                            </span>\r\n                        )}\r\n                    )}\r\n                </div>\r\n\r\n                {this.state.androidType === AndroidTypeName.MANUAL && this.renderManualType()}\r\n                {this.state.androidType === AndroidTypeName.APK && this.renderApkType()}\r\n                {this.state.androidType === AndroidTypeName.DEVICE && this.renderDeviceType()}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppFormAndroid;\r\n","import React, { Component } from 'react';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { AppProperty, PlatformName, IOSType, IOSTypeName } from '../utils/Constants';\r\nimport { isIosBundleId } from '../utils/Validator';\r\nimport { RadioButton } from 'primereact/radiobutton';\r\nimport AppFileSelector from '../utils/AppFileSelector';\r\nimport { AppIconSelector } from '../utils/AppIconSelector';\r\nimport { AriaType, setAriaProps } from '../utils/AriaUtils';\r\nimport i18n from '../i18n';\r\n\r\nexport class AppFormIos extends Component {\r\n  constructor() {\r\n      super();\r\n      this.state = {\r\n        isValidBundleId: null,\r\n        iOSType: IOSTypeName.MANUAL\r\n      };\r\n      this.validationTimeout = null;\r\n  }\r\n  \r\n  componentDidUpdate() {\r\n    setAriaProps(AriaType.RADIO, '.act-radiobutton');\r\n  }\r\n\r\n  suggestAppProps = e => {\r\n    this.validateBundleId();\r\n    if (!this.props.appProperties[AppProperty.NAME] && isIosBundleId(e.target.value).result) {\r\n        this.props.setAppProperty(AppProperty.NAME, e.target.value);\r\n    }\r\n  }\r\n\r\n  validateBundleId = timeout => {\r\n    const value = this.props.appProperties[AppProperty.BUNDLE];\r\n    window.clearTimeout(this.validationTimeout);\r\n    this.props.onValidation(false);\r\n    this.setState({ isValidBundleId: null });\r\n    if (!value) return;\r\n\r\n    this.validationTimeout = window.setTimeout(() => {\r\n      const isValidBundleId = isIosBundleId(value);\r\n      this.setState({ isValidBundleId });\r\n      this.props.onValidation(isValidBundleId.result);\r\n    }, timeout || 0);\r\n  }\r\n\r\n  resetIpaForm() {\r\n    /*this.props.setAppProperty({\r\n        [AppProperty.FILE]: null,\r\n        [AppProperty.ICON]: null\r\n    });*/\r\n    this.props.setAppProperty(AppProperty.FILE, null);\r\n    // this.props.setAppProperty(AppProperty.ICON, null);\r\n}\r\n\r\n  onIpaSelection = (selection, errorMsg) => {\r\n    if (selection) {\r\n      Object.keys(selection).forEach(k => selection[k] && this.props.setAppProperty(k, selection[k]));\r\n      this.props.onValidation(!!selection[AppProperty.FILE], errorMsg);\r\n    }\r\n    else {\r\n      this.props.setAppProperty(AppProperty.FILE, null);\r\n      this.props.setAppProperty(AppProperty.BUNDLE, '');\r\n      this.props.setAppProperty(AppProperty.ICON, null);\r\n      this.props.onValidation(false, errorMsg);\r\n    }\r\n  }\r\n\r\n  onIpaIconLoad = (dataURL) => {\r\n    this.props.setAppProperty(AppProperty.ICON, dataURL);\r\n  }\r\n\r\n  onIOSTypeChange = (e) => {\r\n    this.setState({ iOSType: e.value });\r\n    \r\n    if (e.value === IOSTypeName.IPA\r\n        && !this.props.appProperties[AppProperty.FILE]) return;\r\n    \r\n    this.validateBundleId();\r\n  }\r\n\r\n  renderIpaType() {\r\n    return (\r\n      <AppFileSelector \r\n        platform={PlatformName.IOS}\r\n        onSelection={this.onIpaSelection}\r\n        onIconLoad={this.onIpaIconLoad}\r\n        appProperties={this.props.appProperties}\r\n      />\r\n    );\r\n  }\r\n\r\n  onBundleIdChange = (e) => {\r\n    this.props.onValueChange(e);\r\n    this.validateBundleId(1000);\r\n    this.resetIpaForm();\r\n  }\r\n\r\n  renderManualType() {\r\n    let lblClassName = 'ac-dlg-label ac-required';\r\n    let errorMsg = '';\r\n    if (this.state.isValidBundleId !== null) {\r\n      lblClassName += (this.state.isValidBundleId.result) ? ' ac-valid-input' : ' ac-invalid-input';\r\n      errorMsg = this.state.isValidBundleId.error;\r\n    }\r\n    return (\r\n      <>\r\n        <label className={lblClassName} htmlFor={AppProperty.BUNDLE}>\r\n          <div>{i18n.t('appdetails.bundle-id')}</div>\r\n          <span>\r\n            <InputText\r\n              value={this.props.appProperties[AppProperty.BUNDLE]}\r\n              name={AppProperty.BUNDLE}\r\n              className=\"ac-focus\"\r\n              placeholder=\"com.hcl.onetest\"\r\n              onChange={e => {this.onBundleIdChange(e)}}\r\n              onFocus={this.validateBundleId}\r\n              onBlur={this.suggestAppProps}\r\n              autoComplete=\"off\"\r\n            />\r\n\r\n            <AppIconSelector\r\n              platform={PlatformName.IOS}\r\n              icon={this.props.appProperties[AppProperty.ICON]}\r\n              isSelected={!!this.props.appProperties[AppProperty.ICON]}\r\n              onSelect={(data) => this.props.setAppProperty(AppProperty.ICON, data)}\r\n              onRemove={() => this.props.setAppProperty(AppProperty.ICON, '')}\r\n            />\r\n          </span>\r\n        </label>\r\n        <span className=\"ac-invalid-input-msg\">{errorMsg}</span>\r\n      </>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"act-radiogroup\">\r\n          {IOSType.map(at => {\r\n            return (\r\n              <span key={at.type} className=\"act-radiobutton\">\r\n                <RadioButton\r\n                  value={at.type}\r\n                  inputId={at.type}\r\n                  onChange={this.onIOSTypeChange}\r\n                  checked={this.state.iOSType === at.type}\r\n                />\r\n                <label id={'_' + at.type} htmlFor={at.type}>{at.label}</label>\r\n              </span>\r\n            )}\r\n          )}\r\n        </div>\r\n\r\n        {this.state.iOSType === IOSTypeName.MANUAL && this.renderManualType()}\r\n        {this.state.iOSType === IOSTypeName.IPA && this.renderIpaType()}\r\n    </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppFormIos;\r\n","import React, { Component } from 'react';\r\nimport { RadioButton } from 'primereact/radiobutton';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { AppProperty, DesktopTypeName, DesktopType, PlatformName } from '../utils/Constants';\r\nimport { isWindowsId, isWindowsPath } from '../utils/Validator';\r\nimport Tooltip from '../utils/Tooltip';\r\nimport { AppIconSelector } from '../utils/AppIconSelector';\r\nimport { AriaType, setAriaProps } from '../utils/AriaUtils';\r\nimport i18n from '../i18n';\r\n\r\nexport class AppFormDesktop extends Component {\r\n  constructor() {\r\n      super();\r\n      this.state = {\r\n          isValidExe: null,\r\n          appExe: ''\r\n      };\r\n      this.validationTimeout = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.setAppProperty(AppProperty.WINTYPE,\r\n      this.props.appProperties[AppProperty.WINTYPE] || DesktopTypeName.EXE);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    setAriaProps(AriaType.RADIO, '.act-radiobutton');\r\n  }\r\n\r\n  isExePath() {\r\n    return (this.props.appProperties[AppProperty.WINTYPE] === DesktopTypeName.EXE);\r\n  }\r\n\r\n  suggestAppProps = e => {\r\n    this.validateExe();\r\n\r\n    const value = e.target.value;\r\n    const isValidExe = (this.isExePath()) ? isWindowsPath(value).result : isWindowsId(value).result;\r\n\r\n    if (!this.props.appProperties[AppProperty.NAME] && isValidExe) {\r\n      const name = (this.isExePath())\r\n        ? value.substring(value.lastIndexOf('\\\\') + 1, value.lastIndexOf('.'))\r\n        : value.substr(0, value.lastIndexOf('!'));\r\n      this.props.setAppProperty(AppProperty.NAME, name);\r\n    }\r\n  }\r\n\r\n  validateExe = timeout => {\r\n    const value = this.props.appProperties[AppProperty.WINEXE];\r\n    window.clearTimeout(this.validationTimeout);\r\n    this.props.onValidation(false);\r\n    this.setState({ isValidExe: null });\r\n    if (!value) return;\r\n\r\n    this.validationTimeout = window.setTimeout(() => {\r\n      const isValidExe = (this.isExePath()) ? isWindowsPath(value) : isWindowsId(value);\r\n      this.setState({ isValidExe });\r\n      this.props.onValidation(isValidExe.result);\r\n    }, timeout || 0);\r\n  }\r\n\r\n  onDesktopTypeChange = (e) => {\r\n      this.props.setAppProperty(AppProperty.WINEXE, '');\r\n      this.props.setAppProperty(AppProperty.WINTYPE, e.target.value);\r\n      this.validateExe();\r\n  }\r\n\r\n  render() {\r\n    const lbl = (this.isExePath()) ? i18n.t('appdetails.exe-path') : i18n.t('appdetails.win-id');\r\n    const tooltipText = (this.isExePath()) ? i18n.t('appdetails.exe-path-placeholder') : i18n.t('appdetails.app-id-placeholder');\r\n    let lblClassName = 'ac-dlg-label ac-required';\r\n    let errorMsg = '';\r\n    if (this.state.isValidExe !== null) {\r\n      lblClassName += (this.state.isValidExe.result) ? ' ac-valid-input' : ' ac-invalid-input';\r\n      errorMsg = this.state.isValidExe.error;\r\n    }\r\n    return (\r\n        <>  \r\n            <div className=\"act-radiogroup\">\r\n                {DesktopType.map(dt => {\r\n                    return (\r\n                        <span key={dt.type} className=\"act-radiobutton\">\r\n                            <RadioButton\r\n                                value={dt.type}\r\n                                inputId={dt.type}\r\n                                onChange={this.onDesktopTypeChange}\r\n                                checked={this.props.appProperties[AppProperty.WINTYPE] === dt.type}\r\n                            />\r\n                            <Tooltip id={'_' + dt.type} text={dt.tooltip} />\r\n                            <label id={'_' + dt.type} htmlFor={dt.type}>{dt.label}</label>\r\n                        </span>\r\n                    )}\r\n                )}\r\n            </div>\r\n\r\n            <label className={lblClassName} htmlFor={AppProperty.WINEXE}>\r\n                <div>{lbl}</div>\r\n                <span>\r\n                  <InputText\r\n                      value={this.props.appProperties[AppProperty.WINEXE]}\r\n                      name={AppProperty.WINEXE}\r\n                      className=\"ac-focus\"\r\n                      onChange={e => {this.props.onValueChange(e); this.validateExe(1000)}}\r\n                      onFocus={this.validateExe}\r\n                      onBlur={this.suggestAppProps}\r\n                      autoComplete=\"off\"\r\n                      tooltip={tooltipText}\r\n                  />\r\n\r\n                  <AppIconSelector\r\n                      platform={PlatformName.WINDOWS}\r\n                      icon={this.props.appProperties[AppProperty.ICON]}\r\n                      isSelected={!!this.props.appProperties[AppProperty.ICON]}\r\n                      onSelect={(data) => this.props.setAppProperty(AppProperty.ICON, data)}\r\n                      onRemove={() => this.props.setAppProperty(AppProperty.ICON, '')}\r\n                  />\r\n                </span>\r\n            </label>\r\n            <span className=\"ac-invalid-input-msg\">{errorMsg}</span>\r\n        </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppFormDesktop;\r\n","import React, { Component } from \"react\";\nimport {\n  AppProperty,\n  DesktopTypeName\n} from \"../utils/Constants\";\nimport { isWindowsId, isWindowsPath } from \"../utils/Validator\";\nimport { AriaType, setAriaProps } from \"../utils/AriaUtils\";\nimport { Messages } from 'primereact/messages';\nimport { Ripple } from 'primereact/ripple';\nimport { Panel } from 'primereact/panel';\nimport { Toast } from \"primereact/toast\";\nimport i18n from \"../i18n\";\n\nexport class AppFormDesign extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isValidExe: null,\n      appExe: \"\",\n      isDesignEnable: false\n    };\n    this.validationTimeout = null;\n    this.msgs = React.createRef(null);\n    this.toastRef = React.createRef();\n    this.keyboardListener = React.createRef();\n    this.thumbnailkeyboardListener = React.createRef([]);\n  }\n\n  componentDidMount() {\n    this.props.setAppProperty(\n      AppProperty.WINTYPE,\n      this.props.appProperties[AppProperty.WINTYPE] || DesktopTypeName.EXE\n    );\n    if (this.msgs.current) {\n      this.msgs.current.clear();\n      this.msgs.current.show({ id: '1', sticky: true, severity: 'warn', detail: i18n.t('appformDesign.no-design-msg'), closable: false });\n    }\n\n    this.keyboardListener.addEventListener('keydown', (e) => {\n      if (!(e.target instanceof HTMLInputElement)\n        && !(e.target instanceof HTMLTextAreaElement)) {\n          if(e.key === \"Enter\"){\n            this.keyboardListener.click();\n          }\n      }\n    });\n\n    \n  }\n\n  componentDidUpdate(prevProps) {\n    setAriaProps(AriaType.RADIO, \".act-radiobutton\");\n  }\n\n  isExePath() {\n    return (\n      this.props.appProperties[AppProperty.WINTYPE] === DesktopTypeName.EXE\n    );\n  }\n\n  ondeleteImagePress = (e) => {\n    if (!(e.target instanceof HTMLInputElement)\n        && !(e.target instanceof HTMLTextAreaElement)) {\n          if(e.key === \"Enter\"){\n            console.log(e);\n            e.target.nextSibling.click();\n          }\n      }\n  }\n\n  suggestAppProps = (e) => {\n    this.validateExe();\n    const value = e.target.value;\n    const isValidExe = this.isExePath()\n      ? isWindowsPath(value).result\n      : isWindowsId(value).result;\n    if (!this.props.appProperties[AppProperty.NAME] && isValidExe) {\n      const name = this.isExePath()\n        ? value.substring(value.lastIndexOf(\"\\\\\") + 1, value.lastIndexOf(\".\"))\n        : value.substr(0, value.lastIndexOf(\"!\"));\n      this.props.setAppProperty(AppProperty.NAME, name);\n    }\n  };\n\n  validateExe = () => {\n    window.clearTimeout(this.validationTimeout);\n    this.props.onValidation(false);\n    this.setState({ isValidExe: null });\n    return true;\n  };\n\n  handleSelectDesign = (value) => {\n    this.setState({\n      isDesignEnable: value,\n    });\n    if(value === false) {\n      this.props.clearFields();\n    }\n  };\n\n  onFileChange = (e) => {\n    let files = e.target.files;\n    for(let i = 0;i <= files.length-1; i++) {\n      if(files[i].type !== \"image/jpg\" && files[i].type !== \"image/jpeg\" && files[i].type !== \"image/png\") {\n        this.toastRef.current.show({\n          severity: \"warn\",\n          detail: i18n.t('appformDesign.upload-instruction-2'),\n          life: 3000,\n        });\n        return false;\n      }\n    }\n    this.props.formDataHandel(e);\n    this.props.onValueChange(e);\n  };\n\n  render() {\n    const template = (options) => {\n      options.collapsed = false;\n      const toggleIcon = options.collapsed ? 'pi pi-chevron-down' : 'pi pi-chevron-up';\n      const className = `${options.className} justify-content-start`;\n      const titleClassName = `${options.titleClassName} ml-2 text-primary`;\n      const style = { fontSize: '16px', paddingRight: '5px' };\n\n      return (\n          <div className={className}>\n              <button className={options.togglerClassName} onClick={options.onTogglerClick}>\n                  <span className={toggleIcon}></span>\n                  <Ripple />\n              </button>\n              <span className={titleClassName} style={style}>{i18n.t('appformDesign.upload-instruction-title')}</span>\n          </div>\n      );\n    };\n    return (\n      <>\n        <div className=\"designDiv\">\n          <div className=\"uploadSection\">\n            <Panel headerTemplate={template} toggleable collapsed = {false}>\n              <ul className=\"uploadInstructions\">\n                <li>{i18n.t('appformDesign.upload-instruction-1')}</li>\n                <li>{i18n.t('appformDesign.upload-instruction-2')}</li>\n              </ul>\n            </Panel>\n            <div style={{marginLeft: \"auto\"}}>\n            <Toast ref={this.toastRef} />\n              <label htmlFor=\"designFiles\" \n              tabIndex=\"2\" \n              className=\"designFilesLabel\"\n              ref={el => this.keyboardListener = el}><i className=\"pi pi-plus\"></i> {i18n.t('appformDesign.add-design')}</label>\n              <input \n                type=\"file\" \n                id=\"designFiles\"\n                onChange={(e) => this.onFileChange(e)}\n                accept=\"image/png, image/jpg, image/jpeg\"\n                multiple \n                hidden/>\n            </div>\n            </div>\n          <div id=\"preview-images\" className=\"d-flex p-3 \">\n           {\n            this.props.savedImages.length > 0 ? (\n              this.props.savedImages.map((image, index) => {\n                if(image.isProcessed) {\n                  return (\n                    <div className=\"img-div\" key={index}>\n                      <img\n                      key = {image.data}\n                      className={\"editAppThumbnail\"}\n                      src={image.data}\n                      tabIndex={index}\n                      onKeyDown={(e) => this.ondeleteImagePress(e)}/>\n                      <i\n                          className=\"pi pi-times deleteImg\"\n                          onClick={() => this.props.deleteImage(image)}\n                        ></i>\n                      <p className=\"thumbnailName\" title={image.name}>{image.name}</p>\n                    </div>\n                  )\n                } else {\n                  let imageSize = image.size / 1024 ** 2;\n                  let titleValue = `${image.name}, size is : ${imageSize.toFixed(2)}MB`\n                  return (\n                    <div className=\"img-div\" key={index}>\n                      <img\n                      key = {image.data}\n                      className={\"editAppThumbnail newImage\"}\n                      src={image.data}\n                      tabIndex={index}\n                      onKeyDown={(e) => this.ondeleteImagePress(e)}\n                      />\n                      <i\n                          className=\"pi pi-times deleteImg\"\n                          onClick={() => this.props.deleteImage(image)}\n                        ></i>\n                      <p className=\"thumbnailName\" title={titleValue}>{image.name}</p>\n                    </div>\n                  )\n                }\n              })\n            ) : (\n              <Messages ref={this.msgs} \n              pt={{\n                wrapper: { className: 'message-info-class' }\n              }}/>\n            )\n           } \n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default AppFormDesign;","import React, { Component } from 'react';\r\nimport '../resources/scss/AppFieldSet.scss';\r\nimport { Fieldset } from 'primereact/fieldset';\r\nimport { Panel } from 'primereact/panel';\r\nimport { Ripple } from 'primereact/ripple';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { AppProperty } from '../utils/Constants';\r\nimport i18n from '../i18n';\r\n\r\nexport class AppFormAdvancedOptions extends Component {\r\n  constructor() {\r\n      super();\r\n  }\r\n\r\n  template = (options) => {\r\n    const toggleIcon = options.collapsed ? 'pi pi-chevron-down' : 'pi pi-chevron-up';\r\n    const className = `${options.className} justify-content-start`;\r\n    const titleClassName = `${options.titleClassName} ml-2 text-primary`;\r\n    const style = { fontSize: '1.25rem', paddingLeft: '10px' };\r\n\r\n    return (\r\n        <div className={className}>\r\n            <button className={options.togglerClassName} onClick={options.onTogglerClick}>\r\n                <span className={toggleIcon}></span>\r\n                <Ripple />\r\n            </button>\r\n            <span className={titleClassName} style={style}>{i18n.t('appdetails.advanced-options')}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\n  render() {\r\n    return (\r\n        <Panel \r\n            headerTemplate={this.template}\r\n            toggleable\r\n            >\r\n\r\n            <label className=\"ac-dlg-label\" htmlFor={AppProperty.WINARGS}>\r\n                <div>{i18n.t('appdetails.args')}</div>\r\n                <InputText\r\n                  value={this.props.appProperties[AppProperty.WINARGS]}\r\n                  name={AppProperty.WINARGS}\r\n                  onChange={this.props.onValueChange}\r\n                  autoComplete=\"off\" />\r\n            </label>\r\n\r\n            <label className=\"ac-dlg-label\" htmlFor={AppProperty.WINDIR}>\r\n                <div>{i18n.t('appdetails.working-dir')}</div>\r\n                <InputText\r\n                  value={this.props.appProperties[AppProperty.WINDIR]}\r\n                  name={AppProperty.WINDIR}\r\n                  onChange={this.props.onValueChange}\r\n                  autoComplete=\"off\" />\r\n            </label>\r\n        </Panel>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppFormAdvancedOptions;\r\n","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./AppForm.scss\";\r\nimport { Dialog } from \"primereact/dialog\";\r\nimport { Button } from \"primereact/button\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { InputTextarea } from \"primereact/inputtextarea\";\r\nimport * as DOMPurify from 'dompurify';\r\nimport {\r\n  APIBaseUrl,\r\n  Platform,\r\n  PlatformName,\r\n  AppProperty,\r\n  MoebServiceUrl,\r\n} from \"../utils/Constants\";\r\nimport AppFormWeb from \"./AppFormWeb\";\r\nimport AppFormAndroid from \"./AppFormAndroid\";\r\nimport AppFormIos from \"./AppFormIos\";\r\nimport AppFormDesktop from \"./AppFormDesktop\";\r\nimport AppFormDesign from \"./AppFormDesign\";\r\nimport { TabView, TabPanel } from \"primereact/tabview\";\r\nimport AppFormAdvancedOptions from \"./AppFormAdvancedOptions\";\r\nimport { AriaType, setAriaProps } from \"../utils/AriaUtils\";\r\nimport i18n from \"../i18n\";\r\nconst Success = \"1\";\r\n\r\nexport class AppForm extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      visible: false,\r\n      appProps: {},\r\n      isSubFormValid: false,\r\n      editMode: false,\r\n      errorMsg: \"\",\r\n      form_data: null,\r\n      image_process_status: null,\r\n      img_collection: [],\r\n      isDesignValid: false,\r\n      designEnableState : false,\r\n      deletedImages : []\r\n    };\r\n    this.mainInput = null;\r\n    this.dlg = null;\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.visible !== this.props.visible) {\r\n      this.setState({ visible: this.props.visible, isSubFormValid: false });\r\n\r\n      // Init app properties\r\n      Object.values(AppProperty).forEach((p) => {\r\n        p !== AppProperty.SUBSTITUTERS &&\r\n          this.setAppProperty(\r\n            p,\r\n            this.props.appProperties[p] || // Edit action\r\n              \"\" // Add action\r\n          );\r\n      });\r\n\r\n      if (this.props.visible) {\r\n        this.setState({\r\n          editMode: this.props.appProperties[AppProperty.ID] !== undefined,\r\n        });\r\n        this.setAppProperty(AppProperty.TYPE, this.props.appType);\r\n        this.setState({ errorMsg: \"\" });\r\n      } else {\r\n        this.setState({\r\n          img_collection: []\r\n        })\r\n      }\r\n    }\r\n\r\n    setAriaProps(AriaType.DIALOG, \".ac-dlg\");\r\n  }\r\n\r\n  setAppProperty = (name, value) => {\r\n    let appProps = this.state.appProps;\r\n    appProps[name] = value;\r\n    this.setState({ appProps });\r\n  };\r\n\r\n  onValueChange = (e) => {\r\n    if (this.state.errorMsg !== \"\") {\r\n      this.setState({ errorMsg: \"\" });\r\n    }\r\n    this.setAppProperty(e.target.name, e.target.value);\r\n    const appType = this.props.appType;\r\n    if(appType === PlatformName.WEB ) {\r\n      this.setState({ isSubFormValid: true});\r\n    }\r\n  };\r\n\r\n  onValidation = (valid, errorMsg) => {\r\n    this.setState({ isSubFormValid: valid, errorMsg: errorMsg || \"\" });\r\n  };\r\n\r\n  onDesignValidation = (result) => {\r\n    this.setState({ isDesignValid: result});\r\n  }\r\n\r\n  canAddApplication() {\r\n    let newImages = this.state.img_collection;\r\n    if(newImages.length > 1) {\r\n      return (\r\n        this.state.isSubFormValid &&\r\n        this.state.appProps[AppProperty.NAME] &&\r\n        this.state.errorMsg === \"\" &&\r\n        this.imageValidation()\r\n      );\r\n    } else {\r\n      return (\r\n        this.state.isSubFormValid &&\r\n        this.state.appProps[AppProperty.NAME] &&\r\n        this.state.errorMsg === \"\"\r\n      );\r\n    }\r\n  }\r\n\r\n  getFileNames = (event) => {\r\n    for (let i = 0; i < event.target.files.length; i++) {\r\n      const imgReader = new FileReader();\r\n      imgReader.onloadend = function (eve) {\r\n        let imgObj = {};\r\n        imgObj.data = eve.target.result;\r\n        imgObj.name = event.target.files[i].name;\r\n        imgObj.size = event.target.files[i].size;\r\n        imgObj.isProcessed = false;\r\n        this.props.setSavedImages(imgObj)\r\n      }.bind(this);\r\n      imgReader.readAsDataURL(event.target.files[i]);\r\n    }\r\n  };\r\n\r\n  imageValidation = () => {\r\n    let totalImageSize = 50 * 1024 * 1024;\r\n    let size = 0;\r\n    let isValidationPassed = false;\r\n    let newImageArr = this.state.img_collection;\r\n    for (let i = 0; i <= newImageArr.length-1; i++) {\r\n        size += newImageArr[i].size;\r\n    }\r\n    if(size > totalImageSize) { \r\n      isValidationPassed = false;\r\n      return false;\r\n    } else {\r\n      isValidationPassed = true;\r\n    }\r\n    return isValidationPassed;\r\n  }\r\n\r\n  formDataHandel = (event) => {\r\n    let newImageArr = event.target.files;\r\n    let tempState = this.state.img_collection;\r\n    if(newImageArr.length >1) {\r\n      let tempArr =[];\r\n      for (let i = 0; i <= newImageArr.length-1; i++) {\r\n        tempArr.push(newImageArr[i])\r\n      }\r\n      this.setState({\r\n        img_collection: [...tempState, ...tempArr]\r\n      });\r\n    } else {\r\n      for (let i = 0; i <= newImageArr.length-1; i++) {\r\n        this.setState({\r\n          img_collection: [...tempState, newImageArr[i]]\r\n        });\r\n      }\r\n    }\r\n    this.getFileNames(event);\r\n  };\r\n\r\n  clearFields = () => {\r\n    this.props.onHide();\r\n    this.state.img_collection = [];\r\n  };\r\n\r\n  clearImageFields = () => {\r\n    this.state.img_collection = [];\r\n  };\r\n\r\n  deleteImage = (image) => {\r\n    if(image.isProcessed === false) {\r\n      let images = this.state.img_collection;\r\n      for(let i=0; i<=images.length-1; i++) {\r\n        if(image.name === images[i].name){\r\n           images.splice(i,1);\r\n        }\r\n      }\r\n      let savedImagesArr = this.props.savedImages;\r\n      savedImagesArr.map((savedimage, ind) => {\r\n        if(image.name === savedimage.name){\r\n          savedImagesArr.splice(ind, 1);\r\n        }\r\n      });\r\n      this.props.setDeletedImages(savedImagesArr);\r\n      this.setState({\r\n        img_collection: images\r\n      });\r\n    } else {\r\n      let savedImagesArr = this.props.savedImages;\r\n      savedImagesArr.map((savedimage, ind) => {\r\n        if(image.name === savedimage.name){\r\n          savedImagesArr.splice(ind, 1);\r\n          this.setState({\r\n            deletedImages:[...this.state.deletedImages, savedimage]\r\n          })\r\n        }\r\n      });\r\n      this.props.handleDeletedImages(savedImagesArr);\r\n      this.props.setDeletedImages(savedImagesArr);\r\n    }\r\n    this.onValidation(true)\r\n  }\r\n\r\n  notifyApplicationChange(id) {\r\n    const url =\r\n      MoebServiceUrl +\r\n      \"/com.ibm.rational.test.lt.core.moeb.services.applications.IApplicationService/\" +\r\n      \"?action=notifyAppChange\" +\r\n      \"&appuid=\" +\r\n      id;\r\n\r\n    axios\r\n      .get(url)\r\n      .then(() => {\r\n        console.log(\"AppChange notification succeeded\");\r\n      })\r\n      .catch(() => {\r\n        console.log(\"AppChange notification failed\");\r\n      });\r\n  }\r\n\r\n  addApplication = () => {\r\n    let appNameStatus = this.validateName();\r\n    if(appNameStatus) {\r\n      this.props.handleAppName(this.state.appProps.appname);\r\n      const url = APIBaseUrl + \"/application/\";\r\n      axios\r\n        .post(url, this.state.appProps)\r\n        .then((response) => {\r\n            let appId = response.data.appid;\r\n            if (appId && this.state.img_collection.length > 0) {\r\n              this.props.setAppId(appId);\r\n              this.props.setSelectedImgCollection(this.state.img_collection);\r\n            }\r\n            if (response.data.status === Success) {\r\n              this.props.onActionPerformed({\r\n                appId: response.data[AppProperty.ID],\r\n                typeFilter: this.props.typeFilter,\r\n              });\r\n            } else {\r\n              this.setState({ errorMsg: i18n.t(\"appform.error-duplicate\") });\r\n            }\r\n        })\r\n        .catch(() => {\r\n          console.log(url + \" POST failed\");\r\n        });\r\n    } else {\r\n      this.canAddApplication();\r\n    }\r\n  };\r\n\r\n  editApplication = () => {\r\n    // Modifying app details\r\n    let appNameStatus = this.validateName();\r\n    if(appNameStatus) {\r\n    const id = this.state.appProps[AppProperty.ID];\r\n    const url = APIBaseUrl + \"/application/\" + id;\r\n    axios\r\n      .put(url, this.state.appProps)\r\n      .then((response) => {\r\n        if (response.data.status === Success) {\r\n          this.props.onActionPerformed({\r\n            appId: id,\r\n            typeFilter: this.props.typeFilter,\r\n          });\r\n          this.notifyApplicationChange(id);\r\n        } else {\r\n          this.setState({ errorMsg: i18n.t(\"appform.error-duplicate\") });\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(url + \" PUT failed\");\r\n      });\r\n     // if(this.props.appProperties.hasDesigns) {\r\n        let appId = this.state.appProps.appid;\r\n        this.props.setAppId(appId);\r\n        if(this.state.deletedImages.length > 0) {\r\n          Promise.all([this.state.deletedImages.map((image) => {\r\n            this.handelDeleteImgApi(image.id, this.state.appProps.appid);\r\n          })]).then(res => {\r\n            console.log(res);\r\n            return true;\r\n          }).catch(err => {\r\n            console.log('delete failed');\r\n          })\r\n        }\r\n        if(this.state.img_collection.length > 0) {\r\n          //delete images api call then post new images\r\n          this.props.setSelectedImgCollection(this.state.img_collection);\r\n        } else {\r\n          this.props.setSelectedImgCollection([]);\r\n        }\r\n      } else {\r\n        this.canAddApplication();\r\n      }\r\n     // }\r\n  };\r\n\r\n  handelDeleteImgApi = (imageId, appId) => {\r\n    let url = APIBaseUrl + \"/application/\" + appId + \"/images/\" + imageId;\r\n    return axios.delete(url).then((res) => {\r\n      console.log(res);\r\n    });\r\n  };\r\n\r\n  validateName = () => {\r\n    let appProps = this.state.appProps;\r\n    //sanitizing app version\r\n    let appVersion = this.state.appProps[AppProperty.VERSION];\r\n    appVersion = DOMPurify.sanitize(appVersion);\r\n    appVersion = appVersion.replace( /(<([^>]+)>)/ig, '');\r\n    appProps.appversion = appVersion;\r\n    //sanitizing app description\r\n    let appDescription = this.state.appProps[AppProperty.DESCRIPTION];\r\n    appDescription = DOMPurify.sanitize(appDescription);\r\n    appDescription = appDescription.replace( /(<([^>]+)>)/ig, '');\r\n    appProps.appDescription = appDescription;\r\n    //sanitizing app name \r\n    let applicationName = this.state.appProps[AppProperty.NAME];\r\n    let inputText = DOMPurify.sanitize(applicationName);\r\n    inputText = inputText.replace( /(<([^>]+)>)/ig, '');\r\n    appProps.appname = inputText;\r\n    this.setState({ appProps });\r\n    if(inputText) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  onSubmit = (e, handler) => {\r\n    e.preventDefault();\r\n    if (this.canAddApplication()) {\r\n      handler();\r\n    }\r\n  };\r\n\r\n  validateFiles = (eve) => {\r\n    this.onValueChange(eve);\r\n  }\r\n\r\n  render() {\r\n    const appType = this.props.appType;\r\n    const plaformData = appType\r\n      ? Platform.filter((p) => p.type === appType)[0]\r\n      : null;\r\n\r\n    const header = plaformData && (\r\n      <div className=\"ac-dlg-header\">\r\n        <img alt=\"\" src={plaformData.svgtype} />\r\n        {this.state.editMode\r\n          ? plaformData.dlgEditTitle\r\n          : plaformData.dlgAddTitle}\r\n      </div>\r\n    );\r\n\r\n    const okLbl = this.state.editMode\r\n      ? i18n.t(\"appform.save\")\r\n      : i18n.t(\"appform.add\");\r\n    const okHandler = this.state.editMode\r\n      ? this.editApplication\r\n      : this.addApplication;\r\n    const footer = (\r\n      <div>\r\n        <Button\r\n          label={i18n.t(\"appform.cancel\")}\r\n          className=\"p-button-secondary\"\r\n          onClick={this.props.onHide}\r\n        />\r\n        <Button\r\n          label={okLbl}\r\n          disabled={!this.canAddApplication()}\r\n          onClick={okHandler}\r\n        />\r\n      </div>\r\n    );\r\n\r\n    const errorClassName = this.state.errorMsg !== \"\" ? \" visible\" : \"\";\r\n\r\n    return (\r\n      <Dialog\r\n        ref={(el) => (this.dlg = el)}\r\n        header={header}\r\n        footer={footer}\r\n        className=\"ac-dlg\"\r\n        appendTo={document.body}\r\n        visible={this.state.visible}\r\n        closable={true}\r\n        onHide={this.clearFields}\r\n        focusOnShow={true}\r\n        style={{ height: '40vw' }}\r\n      >\r\n        <div className={\"ac-error\" + errorClassName}>\r\n          <span />\r\n          {/*icon*/}\r\n          {this.state.errorMsg}\r\n        </div>\r\n\r\n        <form spellCheck={false} onSubmit={(e) => this.onSubmit(e, okHandler)}>\r\n        <TabView\r\n          className=\"filterTypes\"\r\n          activeIndex={1}\r\n        >\r\n            return (\r\n              <TabPanel header= \"Details\">\r\n              {appType === PlatformName.ANDROID && (\r\n                <AppFormAndroid\r\n                  appProperties={this.state.appProps}\r\n                  appType={this.props.appType}\r\n                  onValueChange={this.onValueChange}\r\n                  onValidation={this.onValidation}\r\n                  setAppProperty={this.setAppProperty}\r\n                  formDataHandel={this.formDataHandel}\r\n                /> \r\n              )}\r\n              {appType === PlatformName.IOS && (\r\n                <AppFormIos\r\n                  appProperties={this.state.appProps}\r\n                  appType={this.props.appType}\r\n                  onValueChange={this.onValueChange}\r\n                  onValidation={this.onValidation}\r\n                  setAppProperty={this.setAppProperty}\r\n                  formDataHandel={this.formDataHandel}\r\n                />\r\n              )}\r\n              {appType === PlatformName.WEB && (\r\n                <AppFormWeb\r\n                  appProperties={this.state.appProps}\r\n                  appType={this.props.appType}\r\n                  onValueChange={this.onValueChange}\r\n                  onValidation={this.onValidation}\r\n                  setAppProperty={this.setAppProperty}\r\n                  formDataHandel={this.formDataHandel}\r\n                  clearFields = {this.clearImageFields}\r\n                  onDesignValidation = {this.onDesignValidation}\r\n                  hasDesigns = {this.props.appProperties.hasDesigns}\r\n                  designEnableState = {this.state.designEnableState}\r\n                />\r\n              )}\r\n              {appType === PlatformName.WINDOWS && (\r\n                <AppFormDesktop\r\n                  appProperties={this.state.appProps}\r\n                  appType={this.props.appType}\r\n                  onValueChange={this.onValueChange}\r\n                  onValidation={this.onValidation}\r\n                  setAppProperty={this.setAppProperty}\r\n                  formDataHandel={this.formDataHandel}\r\n                />\r\n                )}\r\n\r\n                <label\r\n                  className=\"ac-dlg-label ac-required\"\r\n                  htmlFor={AppProperty.NAME}\r\n                >\r\n                  <div>{i18n.t(\"appdetails.name\")}</div>\r\n                  <InputText\r\n                    value={this.state.appProps[AppProperty.NAME]}\r\n                    name={AppProperty.NAME}\r\n                    onChange={this.onValueChange}\r\n                    autoComplete=\"off\"\r\n                  />\r\n                </label>\r\n\r\n                <label className=\"ac-dlg-label\" htmlFor={AppProperty.VERSION}>\r\n                  <div>{i18n.t(\"appdetails.version\")}</div>\r\n                  <InputText\r\n                    value={this.state.appProps[AppProperty.VERSION]}\r\n                    name={AppProperty.VERSION}\r\n                    onChange={this.onValueChange}\r\n                    autoComplete=\"off\"\r\n                  />\r\n                </label>\r\n\r\n                <label className=\"ac-dlg-label\" htmlFor={AppProperty.DESCRIPTION}>\r\n                  <div>{i18n.t(\"appdetails.description\")}</div>\r\n                  <InputTextarea\r\n                    value={this.state.appProps[AppProperty.DESCRIPTION]}\r\n                    name={AppProperty.DESCRIPTION}\r\n                    onChange={this.onValueChange}\r\n                  />\r\n                </label>\r\n\r\n                {appType === PlatformName.WINDOWS && (\r\n                  <AppFormAdvancedOptions\r\n                    appProperties={this.state.appProps}\r\n                    onValueChange={this.onValueChange}\r\n                    setAppProperty={this.setAppProperty}\r\n                  />\r\n                )}\r\n              </TabPanel>\r\n              <TabPanel header= \"Design\" disabled={this.props.disableDesign}>\r\n                <AppFormDesign\r\n                  appProperties = {this.state.appProps}\r\n                  setAppProperty = {this.setAppProperty}\r\n                  formDataHandel = {this.formDataHandel}\r\n                  clearFields = {this.clearFields}\r\n                  hasDesigns = {this.props.appProperties.hasDesigns}\r\n                  onValueChange={this.onValueChange}\r\n                  savedImages = {this.props.savedImages}\r\n                  editMode = {this.state.editMode}\r\n                  deleteImage = {this.deleteImage}\r\n                  />\r\n              </TabPanel>\r\n            );\r\n        </TabView>\r\n        {\r\n          this.imageValidation() ? \"\" : (\r\n            <span className=\"validationMessage\">{i18n.t(\"appform.image-validation-msg\")}</span>\r\n          )\r\n        }\r\n          <button type=\"submit\" />\r\n        </form>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppForm;","export default __webpack_public_path__ + \"static/media/edit.589a8276.svg\";","export default __webpack_public_path__ + \"static/media/delete.36473054.svg\";","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./AppViewer.scss\";\r\nimport \"../resources/scss/AppProgressBar.scss\";\r\nimport \"../resources/scss/AppFilters.scss\";\r\nimport \"../resources/scss/AppSplitButton.scss\";\r\nimport { SplitButton } from \"primereact/splitbutton\";\r\nimport \"primereact/resources/themes/lara-light-indigo/theme.css\"; // theme\r\nimport \"primereact/resources/primereact.css\";\r\nimport { Column } from \"primereact/column\";\r\nimport { DataTable } from \"primereact/datatable\";\r\nimport {\r\n  APIBaseUrl,\r\n  MoebServiceUrl,\r\n  Platform,\r\n  PlatformName,\r\n  AppProperty,\r\n} from \"../utils/Constants\";\r\nimport { InputText } from \"primereact/inputtext\";\r\nimport { Notification } from \"../utils/Notification\";\r\nimport AppDetails from \"./AppDetails\";\r\nimport AppForm from \"./AppForm\";\r\nimport ConfirmDialog from \"../utils/ConfirmDialog\";\r\nimport Tooltip from \"../utils/Tooltip\";\r\nimport { AriaType, setAriaPropsAll } from \"../utils/AriaUtils\";\r\nimport SVG_Edit from \"../resources/icons/edit.svg\";\r\nimport SVG_Delete from \"../resources/icons/delete.svg\";\r\nimport i18n from \"../i18n\";\r\nimport { getWebIcon } from \"../utils/AppIconUtils\";\r\nimport { TabView, TabPanel } from \"primereact/tabview\";\r\nimport {\r\n  fetchIntialImageList\r\n} from \"./Design/DesignServices\";\r\n\r\nclass AppViewer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      appsList: null,\r\n      expandedRows: {},\r\n      globalFilter: null,\r\n      typeFilter: PlatformName.ALL,\r\n      error: false,\r\n      appFormType: null,\r\n      deletingApp: {},\r\n      editingApp: {},\r\n      workspace: null,\r\n      platForms: [],\r\n      savedImages: [],\r\n      activeIndex: 0,\r\n      disableDesign: true\r\n    };\r\n    this.renderName = this.renderName.bind(this);\r\n    this.renderActions = this.renderActions.bind(this);\r\n    this.rowExpansionTemplate = this.rowExpansionTemplate.bind(this);\r\n    this.addBtn = null;\r\n    this.addBtnVisible = false;\r\n    this.addItems = [\r\n      {\r\n        label: i18n.t(\"constants.android\"),\r\n        icon: \"pi pi-android android\",\r\n        command: () => {\r\n          this.onAdd(PlatformName.ANDROID);\r\n        },\r\n      },\r\n      {\r\n        label: i18n.t(\"constants.desktop\"),\r\n        icon: \"pi pi-desktop desktop\",\r\n        command: () => {\r\n          this.onAdd(PlatformName.WINDOWS);\r\n        },\r\n      },\r\n      {\r\n        label: i18n.t(\"constants.ios\"),\r\n        icon: \"pi pi-apple ios\",\r\n        command: () => {\r\n          this.onAdd(PlatformName.IOS);\r\n        },\r\n      },\r\n      {\r\n        label: i18n.t(\"constants.web\"),\r\n        icon: \"pi pi-globe web\",\r\n        command: () => {\r\n          this.onAdd(PlatformName.WEB);\r\n        },\r\n      },\r\n    ];\r\n    this.notification = null;\r\n    this.selectedAppId = null;\r\n    this.appsListString = null;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getWorkspace();\r\n    window.setTimeout(() => this.getAppsList(), 1000);\r\n    this.selectedAppId = this.props.selectedAppId;\r\n    this.selectedAppId &&\r\n      this.setState({ expandedRows: { [this.selectedAppId]: true } });\r\n\r\n    window.addEventListener(\r\n      \"focus\",\r\n      () => {\r\n        // Refresh apps on focus\r\n        this.getAppsList(this.state.typeFilter, true);\r\n      },\r\n      false\r\n    );\r\n    let platform = Platform.filter((val) => {\r\n      return val.type !== \"DESIGN\";\r\n    });\r\n    this.state.platForms = platform;\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    setAriaPropsAll([\r\n      { type: AriaType.RADIO, selector: \".act-radiobutton\" },\r\n      { type: AriaType.EXPAND, selector: \"td.act-expander\" },\r\n      { type: AriaType.SPLIT, selector: \".act-splitbutton\" },\r\n    ]);\r\n\r\n    const selApp = document.querySelector(\".act-td-selected\");\r\n    if (selApp) {\r\n      selApp.scrollIntoView({\r\n        behavior: \"smooth\",\r\n        block: \"center\",\r\n        inline: \"center\",\r\n      });\r\n      this.selectedAppId = null;\r\n    }\r\n  }\r\n\r\n  getWorkspace() {\r\n    const url =\r\n      MoebServiceUrl +\r\n      \"/com.ibm.rational.test.lt.core.moeb.services.applications.IApplicationService/\" +\r\n      \"?action=getCurrentWorkspace\";\r\n    axios\r\n      .get(url)\r\n      .then((response) => {\r\n        this.setState({ workspace: response.data.localized_string });\r\n      })\r\n      .catch(() => {\r\n        console.log(\"The current workspace could not be retrieved\");\r\n        this.setState({ workspace: \"\" });\r\n      });\r\n  }\r\n\r\n  getAppsList(type, ifModified) {\r\n    type = type ? type : PlatformName.ALL;\r\n    const url = APIBaseUrl + \"/applications/\" + type;\r\n    axios\r\n      .get(url)\r\n      .then((response) => {\r\n        const appsList = response.data.applications || [];\r\n        if (!ifModified || this.appsListString !== JSON.stringify(appsList)) {\r\n          this.appsListString = JSON.stringify(appsList);\r\n          this.setState({ appsList });\r\n        }\r\n      })\r\n      .catch(() => {\r\n        this.setState({ error: true });\r\n      });\r\n  }\r\n\r\n  /*\r\n   * event handlers\r\n   */\r\n  onAdd(type) {\r\n    this.setState({ appFormType: type });\r\n    if(type === \"WEBUI\") {\r\n      this.setState({ disableDesign: false });\r\n    } else {\r\n      this.setState({ disableDesign: true });\r\n    }\r\n  }\r\n\r\n  refreshList = (data) => {\r\n    // Re-apply filter if needed\r\n    let typeFilter = data.typeFilter;\r\n    if (this.state.appFormType && this.state.appFormType !== data.typeFilter) {\r\n      typeFilter = PlatformName.ALL;\r\n      this.setState({ typeFilter });\r\n    }\r\n\r\n    this.getAppsList(typeFilter);\r\n\r\n    this.onHide();\r\n\r\n    // Expand the incoming app\r\n    if (data.appId) {\r\n      let expandedRows = this.state.expandedRows;\r\n      expandedRows[data.appId] = true;\r\n      this.setState({ expandedRows });\r\n    }\r\n  };\r\n\r\n  onHide = () => {\r\n    this.setState({\r\n      appFormType: null,\r\n      deletingApp: {},\r\n      editingApp: {},\r\n    }); // Hide all popup dialogs\r\n    this.props.settingMode(false);\r\n    this.setState ({\r\n      savedImages : []\r\n    });\r\n  };\r\n\r\n  onEdit = (e, rowData) => {\r\n    if (e.keyCode && e.keyCode !== 13) return;\r\n    e.stopPropagation();\r\n    if(rowData.appType === \"WEBUI\") {\r\n      this.setState({ disableDesign: false });\r\n    } else {\r\n      this.setState({ disableDesign: true });\r\n    }\r\n    this.props.handleAppName(rowData.appname);\r\n    if (rowData.hasDesigns) {\r\n      this.setState ({\r\n        savedImages : []\r\n      });\r\n      this.props.settingMode(true);\r\n      let imgUrl = APIBaseUrl + \"/application/\" + rowData.appid + \"/images\";\r\n      axios\r\n        .get(imgUrl, {\r\n          headers: { accept: \"application/json\" },\r\n        })\r\n        .then((res) => {\r\n          this.props.settingImageIds(res.data);\r\n          res.data.map((imgData) => {\r\n            this.requestThumbnails(rowData ,imgData);\r\n          });\r\n          this.setState({\r\n            appFormType: rowData[AppProperty.TYPE],\r\n            editingApp: rowData,\r\n          });\r\n        })\r\n        .catch(function (response) {\r\n          console.log(response);\r\n        });\r\n    } else {\r\n      this.setState({\r\n        appFormType: rowData[AppProperty.TYPE],\r\n        editingApp: rowData,\r\n      });\r\n    }\r\n  };\r\n\r\n  requestThumbnails = (rowData, imgData) => {\r\n      let url =\r\n      APIBaseUrl +\r\n        \"/application/\" +\r\n          rowData.appid +\r\n        \"/images/\" +\r\n        imgData.id +\r\n        \"/screenshot\";\r\n      fetchIntialImageList(url).then((res) => {\r\n      if (res.data) {\r\n        let imgObj = {};\r\n        imgObj.name = imgData.name;\r\n        imgObj.data = 'data:image/png;base64,' + res.data;\r\n        imgObj.id = imgData.id\r\n        imgObj.isProcessed = true;\r\n        this.setState ({\r\n          savedImages : [...this.state.savedImages, imgObj]\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  setSavedImages = (images) => {\r\n    this.setState ({\r\n      savedImages : [ ...this.state.savedImages, images ]\r\n    });\r\n  }\r\n\r\n  setDeletedImages = (images) => {\r\n    this.setState ({\r\n      savedImages : images\r\n    });\r\n  }\r\n\r\n  onDelete = (e, rowData) => {\r\n    if (e.keyCode && e.keyCode !== 13) return;\r\n    e.stopPropagation();\r\n    const url = APIBaseUrl + \"/tests/\";\r\n    const data = { appid: rowData[AppProperty.ID] };\r\n    rowData.warning = \"\";\r\n    axios\r\n      .post(url, data)\r\n      .then((response) => {\r\n        if (response.data.tests.length > 0) {\r\n          rowData.warning = i18n.t(\"confirmdlg.warning\");\r\n\r\n          if (\r\n            response.data.tests.filter(\r\n              (t) => t.workspace === this.state.workspace\r\n            ).length === 0\r\n          ) {\r\n            rowData.warning = i18n.t(\"confirmdlg.warning-other-ws\");\r\n          }\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Associated tests could not be retrieved\");\r\n      })\r\n      .finally(() => {\r\n        this.setState({ deletingApp: rowData });\r\n      });\r\n  };\r\n\r\n  deleteApp = () => {\r\n    const appname = this.state.deletingApp[AppProperty.NAME];\r\n    const typeFilter = this.state.typeFilter;\r\n    axios\r\n      .delete(\r\n        APIBaseUrl + \"/application/\" + this.state.deletingApp[AppProperty.ID]\r\n      )\r\n      .then(() => {\r\n        this.refreshList({ typeFilter });\r\n        this.notification.show(i18n.t(\"confirmdlg.notification\", { appname }), [\r\n          appname,\r\n        ]);\r\n      })\r\n      .catch(this.onHide());\r\n  };\r\n\r\n  onFilterChange = (e) => {\r\n    this.state.platForms.map((platform, index) => {\r\n      if (index === e) {\r\n        this.setState({ typeFilter: platform.type, expandedRows: [] });\r\n        this.getAppsList(platform.type);\r\n        this.setState({\r\n          activeIndex: index,\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  rowExpansionTemplate(rowData) {\r\n    return (\r\n      <AppDetails\r\n        app={rowData}\r\n        workspace={this.state.workspace}\r\n      />\r\n    );\r\n  }\r\n\r\n  onRowToggle(e) {\r\n    this.setState({ expandedRows: e.data });\r\n  }\r\n\r\n  onRowClick(e) {\r\n    let expandedRows = this.state.expandedRows;\r\n    expandedRows[e.data[AppProperty.ID]] = expandedRows[e.data[AppProperty.ID]]\r\n      ? null\r\n      : true;\r\n    this.setState({ expandedRows });\r\n  }\r\n\r\n  onAddBtnToggle = (e) => {\r\n    if (e.keyCode && e.keyCode !== 13) return;\r\n    this.addBtnVisible ? this.addBtn.hide() : this.addBtn.show();\r\n    this.addBtnVisible = !this.addBtnVisible;\r\n  };\r\n\r\n  /*\r\n   * Render functions\r\n   */\r\n  renderVerdict() {\r\n    return <div className=\"act-td-verdict\"></div>;\r\n  }\r\n\r\n  renderType(rowData) {\r\n    const pData = Platform.filter(\r\n      (p) => p.type === rowData[AppProperty.TYPE]\r\n    )[0];\r\n    const appId = rowData[AppProperty.ID];\r\n    return (\r\n      <>\r\n        <Tooltip id={\"_\" + appId} placement=\"right\" text={pData.label} />\r\n        <div id={\"_\" + appId} className=\"act-td-type\">\r\n          <img src={pData.svgtype} alt=\"\" />\r\n        </div>\r\n      </>\r\n    );\r\n  }switchToDesign\r\n\r\n  getAppIcon(rowData) {\r\n    if (!rowData[AppProperty.ICON]) {\r\n      if (rowData[AppProperty.TYPE] === PlatformName.WEB) {\r\n        getWebIcon(rowData[AppProperty.URL])\r\n          .then((iconUrl) => {\r\n            rowData[AppProperty.ICON] = iconUrl;\r\n            axios.put(\r\n              APIBaseUrl + \"/application/\" + rowData[AppProperty.ID],\r\n              rowData\r\n            );\r\n          })\r\n          .catch(() => {\r\n            // Nope\r\n          });\r\n      }\r\n    }\r\n    return rowData[AppProperty.ICON] || \"\";\r\n  }\r\n\r\n  renderName(rowData) {\r\n    const divClassName =\r\n      rowData[AppProperty.ID] === this.selectedAppId ? \" act-td-selected\" : \"\";\r\n    const defaultIcon = Platform.filter(\r\n      (p) => p.type === rowData[AppProperty.TYPE]\r\n    )[0].svg;\r\n    return (\r\n      <div className={\"act-td-name\" + divClassName}>\r\n        <img\r\n          className=\"act-icon\"\r\n          alt=\"\"\r\n          src={this.getAppIcon(rowData)}\r\n          onLoad={(e) => {\r\n            e.target.className += \" loaded\";\r\n          }}\r\n          onError={(e) => {\r\n            e.target.src = defaultIcon;\r\n            rowData[AppProperty.ICON] = defaultIcon;\r\n          }}\r\n        />\r\n        <img alt=\"\" src={defaultIcon} />\r\n        <span>{rowData[AppProperty.NAME]}</span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderVersion(rowData) {\r\n    let version = rowData[AppProperty.VERSION] || \"-\";\r\n    return <div className=\"act-td-version\">{version}</div>;\r\n  }\r\n\r\n  renderDate(rowData) {\r\n    let date = new Date(rowData[AppProperty.DATE]);\r\n    return (\r\n      <div>\r\n        <span className=\"act-td-date\">\r\n          {date.toLocaleDateString(i18n.language)}\r\n        </span>\r\n        <div className=\"act-td-time\">\r\n          {date.toLocaleTimeString(i18n.language)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  switchToDesign(appId) {\r\n    let imgUrl = APIBaseUrl + \"/application/\" + appId + \"/images\";\r\n    axios.get(imgUrl, {\r\n      headers: { accept: \"application/json\" },\r\n    })\r\n    .then((res) => {\r\n      this.props.getImageDetails(appId);\r\n      this.props.settingImageIds(res.data);\r\n      this.props.setSelectedImgCollection([]);\r\n    })\r\n    .catch(function (response) {\r\n      console.log(response);\r\n    });\r\n  }\r\n\r\n  renderActions(rowData) {\r\n    const appId = rowData[AppProperty.ID];\r\n    return (\r\n      <div className=\"actions-div\">\r\n          {rowData.hasDesigns && \r\n              <>\r\n              <span\r\n                  tabIndex={0}\r\n                  onClick={(e) => {this.props.handleAppName(rowData.appname); this.switchToDesign(appId); e.stopPropagation()}}\r\n                  onKeyDown={(e) => this.onKeyPressForAccessible(e)}\r\n                >\r\n                  <Tooltip\r\n                    id={\"_design-editor\" + appId}\r\n                    placement=\"bottom\"\r\n                    text = \"Design editor\"\r\n                  />\r\n                  <i className=\"pi pi-images pi-designs\" id={\"_design-editor\" + appId}></i>\r\n                </span>\r\n              </>\r\n          }\r\n        <span\r\n          tabIndex={1}\r\n          onClick={(e) => this.onEdit(e, rowData)}\r\n          onKeyDown={(e) => this.onEdit(e, rowData)}\r\n        >\r\n          <Tooltip\r\n            id={\"_edit\" + appId}\r\n            placement=\"bottom\"\r\n            text={i18n.t(\"appviewer.edit\")}\r\n          />\r\n          <img id={\"_edit\" + appId} src={SVG_Edit} alt=\"\" />\r\n        </span>\r\n        <span\r\n          tabIndex={2}\r\n          onClick={(e) => this.onDelete(e, rowData)}\r\n          onKeyDown={(e) => this.onDelete(e, rowData)}\r\n        >\r\n          <Tooltip\r\n            id={\"_delete\" + appId}\r\n            placement=\"bottom\"\r\n            text={i18n.t(\"appviewer.delete\")}\r\n          />\r\n          <img id={\"_delete\" + appId} src={SVG_Delete} alt=\"\" />\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  setAppId = (appId) => {\r\n    this.props.getImageDetails(appId);\r\n  };\r\n\r\n  setImages = (images) => {\r\n    this.props.setSelectedImgCollection(images);\r\n  };\r\n\r\n  onKeyPressForAccessible = (e) => {\r\n    if(e.key === \"Enter\"){\r\n      console.log(e);\r\n      e.target.click();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.error) {\r\n      return <>{i18n.t(\"appviewer.fatal-error\")}</>;\r\n    }\r\n    if (!this.state.appsList) {\r\n      return (\r\n        <div className=\"ac-pb\">\r\n          <div className=\"ac-pb-text\">{i18n.t(\"appviewer.loading\")}</div>\r\n          <div className=\"ac-pb-container\">\r\n            <div className=\"ac-pb-content\" />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const header = (\r\n      <div className=\"table-header\">\r\n        <TabView\r\n          className=\"filterTypes\"\r\n          activeIndex={this.state.activeIndex}\r\n          onTabChange={(e) => this.onFilterChange(e.index)}\r\n          pt={{\r\n            inkbar: { \"role\" : \"presentation\", \"aria-labelledby\" : \"tablist\"},\r\n          }}\r\n        >\r\n          {this.state.platForms.map((p) => {\r\n            return (\r\n              <TabPanel\r\n                header={p.label}\r\n                key={p.type}\r\n                leftIcon={p.icon}\r\n              ></TabPanel>\r\n            );\r\n          })}\r\n        </TabView>\r\n        <div className=\"p-inputgroup act-search\" role=\"region\">\r\n          <div>\r\n            <span className=\"p-input-icon-left\">\r\n              <i className=\"pi pi-search\" />\r\n              <InputText\r\n                placeholder={i18n.t(\"appviewer.search\")}\r\n                onInput={(e) => this.setState({ globalFilter: e.target.value })}\r\n                className=\"ac-search-inputtext\"\r\n                aria-label={i18n.t(\"appviewer.search\")}\r\n              />\r\n            </span>\r\n          </div>\r\n          <span\r\n            className=\"act-splitbutton\"\r\n            tabIndex={0}\r\n            onKeyDown={(e) => this.onAddBtnToggle(e)}\r\n          >\r\n            <SplitButton\r\n              ref={(el) => (this.addBtn = el)}\r\n              label={i18n.t(\"appviewer.add\")}\r\n              onClick={(e) => this.addBtn.show()}\r\n              onKeyDown={(e) => this.props.onKeyPressForAccessible(e)}\r\n              model={this.addItems}\r\n              pt={{\r\n                menuList: {\r\n                    tabIndex: 0\r\n                }\r\n            }}\r\n            />\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    const rowClassName = (rowData) => ({\r\n      \"act-expanded-row\": this.state.expandedRows[rowData.appid] ? true : false,\r\n    });\r\n\r\n    const confirmVisible = this.state.deletingApp[AppProperty.ID] !== undefined;\r\n    const confirmMsg = confirmVisible\r\n      ? i18n.t(\"confirmdlg.msg\", {\r\n          appname:\r\n            \"<span>\" + this.state.deletingApp[AppProperty.NAME] + \"</span>\",\r\n        })\r\n      : \"\";\r\n\r\n    return (\r\n      <div className=\"act\">\r\n          <AppForm\r\n            visible={\r\n              this.state.appFormType !== null ||\r\n              this.state.editingApp[AppProperty.ID] !== undefined\r\n            }\r\n            appType={this.state.appFormType}\r\n            appProperties={this.state.editingApp}\r\n            typeFilter={this.state.typeFilter}\r\n            onActionPerformed={this.refreshList}\r\n            onHide={this.onHide}\r\n            setAppId={this.setAppId}\r\n            setSelectedImgCollection={this.setImages}\r\n            savedImages = {this.state.savedImages}\r\n            setSavedImages = {this.setSavedImages}\r\n            setDeletedImages = {this.setDeletedImages}\r\n            handleDeletedImages = {this.props.handleDeletedImages}\r\n            disableDesign = {this.state.disableDesign}\r\n            handleAppName = {this.props.handleAppName}\r\n          />\r\n        <DataTable\r\n          className=\"act-table\"\r\n          header={header}\r\n          value={this.state.appsList}\r\n          rowClassName={rowClassName}\r\n          emptyMessage={i18n.t(\"appviewer.empty-msg\")}\r\n          expandedRows={this.state.expandedRows}\r\n          onRowToggle={(e) => {\r\n            this.onRowToggle(e);\r\n          }}\r\n          rowExpansionTemplate={this.rowExpansionTemplate}\r\n          onRowClick={(e) => {\r\n            this.onRowClick(e);\r\n          }}\r\n          dataKey=\"appid\"\r\n          sortField=\"creationDate\"\r\n          sortOrder={-1}\r\n          globalFilter={this.state.globalFilter}\r\n        >\r\n          <Column\r\n            expander\r\n            header=\"&#8203;\"\r\n            style={{ width: \"35px\", paddingTop: \"10px\" }}\r\n            className=\"act-expander\"\r\n          />\r\n          <Column\r\n            field={AppProperty.DESCRIPTION}\r\n            className=\"act-col-verdict\"\r\n            header=\"&#8203;\"\r\n            body={this.renderVerdict}\r\n          />\r\n          <Column\r\n            field={AppProperty.TYPE}\r\n            header={i18n.t(\"appviewer.header-type\")}\r\n            style={{ width: \"120px\" }}\r\n            body={this.renderType}\r\n            sortable\r\n          />\r\n          <Column\r\n            field={AppProperty.NAME}\r\n            header={i18n.t(\"appviewer.header-name\")}\r\n            style={{ width: \"50%\" }}\r\n            body={this.renderName}\r\n            sortable\r\n          />\r\n          <Column\r\n            field={AppProperty.VERSION}\r\n            header={i18n.t(\"appviewer.header-version\")}\r\n            body={this.renderVersion}\r\n            sortable\r\n          />\r\n          <Column\r\n            field={AppProperty.DATE}\r\n            header={i18n.t(\"appviewer.header-date\")}\r\n            body={this.renderDate}\r\n            sortable\r\n          />\r\n          <Column\r\n            className=\"act-col-actions\"\r\n            header={i18n.t(\"appviewer.header-actions\")}\r\n            style={{ width: \"12%\" }}\r\n            body={this.renderActions}\r\n          />\r\n        </DataTable>\r\n\r\n        <div className=\"act-footer\" />\r\n\r\n        <ConfirmDialog\r\n          title={i18n.t(\"confirmdlg.title\")}\r\n          msg={confirmMsg}\r\n          icon={true}\r\n          subMsg={this.state.deletingApp.warning}\r\n          visible={confirmVisible}\r\n          onHide={this.onHide}\r\n          onConfirm={this.deleteApp}\r\n        />\r\n\r\n        <Notification ref={(el) => (this.notification = el)} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AppViewer;","import React, { useState, Suspense, lazy } from \"react\";\r\nimport \"./shared/primereact-hcl.scss\";\r\nimport \"./AppConfiguration.scss\";\r\nimport AppViewer from \"./components/AppViewer\";\r\nimport i18n from \"./i18n\";\r\nimport { AppProperty } from \"./utils/Constants\";\r\n\r\nexport default function AppConfiguration() {\r\n  const [switchToDesign, setDesignState] = useState(true);\r\n  const [appId, setAppId] = useState(null);\r\n  const [imageFiles, setImageFiles] = useState([]);\r\n  const [editMode, setMode] = useState(false);\r\n  const [imageIds, setImageIds] = useState([]);\r\n  const [appName, setAppName] = useState();\r\n\r\n  const setParentAppId = (appId) => {\r\n    setAppId(appId);\r\n  };\r\n\r\n  const setSelectedImgCollection = (images) => {\r\n    setImageFiles(images);\r\n    setDesignState(false);\r\n  };\r\n\r\n  const settingImageIds = (ids) => {\r\n    setImageIds(ids);\r\n  };\r\n\r\n  const setDesignStatetoparent = (value) => {\r\n    setDesignState(value);\r\n    location.reload();\r\n  };\r\n\r\n  const settingMode = (mode) => {\r\n    setMode(mode);\r\n  };\r\n\r\n  const handleDeletedImages = (ids) => {\r\n    setImageIds([]);\r\n    setImageIds(ids);\r\n  }\r\n\r\n  const handleAppName = (name) => {\r\n    setAppName(name);\r\n  }\r\n\r\n  const selectedAppId = new URLSearchParams(window.location.search).get(\r\n    AppProperty.ID\r\n  );\r\n  if (switchToDesign) {\r\n    return (\r\n      <Suspense fallback={switchToDesign}>\r\n        <div className=\"ac\">\r\n          <div className=\"ac-container\">\r\n            <main className=\"ac-content\">\r\n              <h1 className=\"ac-title\">{i18n.t(\"title\")}</h1>\r\n              <div className=\"ac-viewer\">\r\n                <AppViewer\r\n                  selectedAppId={selectedAppId}\r\n                  switchToDesign={switchToDesign}\r\n                  getImageDetails={setParentAppId}\r\n                  setSelectedImgCollection={setSelectedImgCollection}\r\n                  settingMode={settingMode}\r\n                  settingImageIds={settingImageIds}\r\n                  handleDeletedImages={handleDeletedImages}\r\n                  handleAppName={handleAppName}\r\n                />\r\n              </div>\r\n            </main>\r\n          </div>\r\n        </div>\r\n      </Suspense>\r\n    );\r\n  } else {\r\n    const VirtualClient = lazy(() =>\r\n      import(\"./components/Design/VirtualClient\")\r\n    );\r\n    return (\r\n      <Suspense fallback={switchToDesign}>\r\n        <VirtualClient\r\n          appId={appId}\r\n          imageFiles={imageFiles}\r\n          imageids={imageIds}\r\n          editMode={editMode}\r\n          setDesignStatetoparent={setDesignStatetoparent}\r\n          appName={appName}\r\n        />\r\n      </Suspense>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport \"./SwitchDesign.scss\";\nimport Feedback from \"./utils/Feedback\";\nimport i18n from \"./i18n\";\nimport AppConfiguration from \"./AppConfiguration\";\n\nconst SwitchDesign = () => {\n  return (\n    <div className=\"ac\">\n      <header>\n        <span className=\"logo\" />\n        <span className=\"logo-text\">{i18n.t('logo.text')}</span>\n        <Feedback />\n      </header>\n      <AppConfiguration />\n    </div>\n  );\n};\n\nexport default SwitchDesign;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport \"primereact/resources/themes/nova/theme.css\";\r\nimport \"primereact/resources/primereact.min.css\";\r\nimport './shared/primereact-hcl.scss';\r\nimport './index.scss';\r\nimport SwitchDesign from './SwitchDesign';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'primeicons/primeicons.css';\r\n\r\nReactDOM.render(<SwitchDesign />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export default __webpack_public_path__ + \"static/media/web.5227f4ea.svg\";","export default __webpack_public_path__ + \"static/media/windows.11ba0fc5.svg\";","export default __webpack_public_path__ + \"static/media/android.f5501e85.svg\";","export default __webpack_public_path__ + \"static/media/ios.46f5fd74.svg\";","export default __webpack_public_path__ + \"static/media/web.406dab1d.svg\";","export default __webpack_public_path__ + \"static/media/desktop.5a07a150.svg\";","export default __webpack_public_path__ + \"static/media/alltype-blue.f385a22f.svg\";","import i18n from '../i18n';\r\nimport SVG_Android from '../resources/icons/android.svg';\r\nimport SVG_Ios from '../resources/icons/ios.svg';\r\nimport SVG_Web from '../resources/icons/web.svg';\r\nimport SVG_Windows from '../resources/icons/windows.svg';\r\nimport SVG_Android_Type from '../resources/icons/type/android.svg';\r\nimport SVG_Ios_Type from '../resources/icons/type/ios.svg';\r\nimport SVG_Web_Type from '../resources/icons/type/web.svg';\r\nimport SVG_Windows_Type from '../resources/icons/type/desktop.svg';\r\nimport SVG_All_Type_Blue from '../resources/icons/alltype-blue.svg'\r\nimport SVG_All_Type_Gray from '../resources/icons/alltype-gray.svg'\r\n\r\nconst backendPort = new URLSearchParams(window.location.search).get('backendPort') || '7878';\r\nexport const APIBaseUrl = 'http://localhost:' + backendPort;\r\nexport let MoebServiceUrl = APIBaseUrl + '/moeb/service';\r\nexport const Debug = new URLSearchParams(window.location.search).get('debug') === 'gdnm';\r\nexport const isDebugPort = (backendPort === '8080');\r\nif (isDebugPort) {\r\n    MoebServiceUrl = 'http://localhost:7878/moeb/service'; \r\n}\r\n\r\nexport const HomeApp = 'home';\r\n\r\nexport const PlatformName = {\r\n    ALL: 'ALL',\r\n    ANDROID: 'APPIUM_ANDROID',\r\n    IOS: 'APPIUM_IOS',\r\n    WEB: 'WEBUI',\r\n    WINDOWS: 'WINDOWS'\r\n}\r\n \r\nexport const Platform = [\r\n    {type: 'ALL', label: i18n.t('constants.all'), svg: '', svgtype: SVG_All_Type_Blue,\r\n        dlgAddTitle: '', dlgEditTitle: '', icon: 'pi pi-filter-fill pr-2'},\r\n    {type: PlatformName.ANDROID, label: i18n.t('constants.android'), svg: SVG_Android, svgtype: SVG_Android_Type,\r\n        dlgAddTitle: i18n.t('constants.add-android-app'), dlgEditTitle: i18n.t('constants.edit-android-app'), icon: 'pi pi-android pr-2'},\r\n    {type: PlatformName.WINDOWS, label: i18n.t('constants.desktop'), svg: SVG_Windows, svgtype: SVG_Windows_Type,\r\n        dlgAddTitle: i18n.t('constants.add-desktop-app'), dlgEditTitle: i18n.t('constants.edit-desktop-app'), icon: 'pi pi-desktop pr-2'},\r\n    {type: PlatformName.IOS, label: i18n.t('constants.ios'), svg: SVG_Ios, svgtype: SVG_Ios_Type,\r\n        dlgAddTitle: i18n.t('constants.add-ios-app'), dlgEditTitle: i18n.t('constants.edit-ios-app'), icon: 'pi pi-apple pr-2'},\r\n    {type: PlatformName.WEB, label: i18n.t('constants.web'), svg: SVG_Web, svgtype: SVG_Web_Type,\r\n        dlgAddTitle: i18n.t('constants.add-web-app'), dlgEditTitle: i18n.t('constants.edit-web-app'), icon: 'pi pi-globe pr-2'}\r\n]\r\n\r\nexport const AppProperty = {\r\n    ID: 'appid',\r\n    TYPE: 'appType',\r\n    DATE: 'creationDate',\r\n    CREATOR: 'creatorName',\r\n    NAME: 'appname',\r\n    VERSION: 'appversion',\r\n    DESCRIPTION: 'appDescription',\r\n    PACKAGE: 'appPackage',\r\n    ACTIVITY: 'appActivity',\r\n    BUNDLE: 'iOSbundleID',\r\n    WINTYPE: 'windowsAppType',\r\n    WINEXE: 'winExeInfo',\r\n    WINARGS: 'winArgs',\r\n    WINDIR: 'winWorkDir',\r\n    URL: 'webURL',\r\n    SUBSTITUTERS: 'substituters',\r\n    INTERNALVERSION: 'internalVersion',\r\n    ICON: 'appIcon',\r\n    FILE: 'appFile',\r\n    DEVICE: 'device'\r\n}\r\n\r\nexport const SubstName = {\r\n    SUBSTITUTERTAB: 'substituterTab',\r\n    SUBSTITUTERP1: 'substituterP1',\r\n    SUBSTITUTERP2: 'substituterP2'\r\n}\r\n\r\nexport const AndroidTypeName = {\r\n    MANUAL: 'MANUAL',\r\n    APK: 'APK',\r\n    DEVICE: 'DEVICE'\r\n}\r\n\r\nexport let AndroidType = [\r\n    {type: AndroidTypeName.MANUAL, label: i18n.t('constants.manual-lbl'), tooltip: ''},\r\n    {type: AndroidTypeName.APK, label: i18n.t('constants.apk-lbl'), tooltip: ''},\r\n    {type: AndroidTypeName.DEVICE, label: i18n.t('constants.device-lbl'), tooltip: ''}\r\n]\r\n\r\nexport const IOSTypeName = {\r\n    MANUAL: 'MANUAL',\r\n    IPA: 'IPA'\r\n}\r\n\r\nexport const IOSType = [\r\n    {type: IOSTypeName.MANUAL, label: i18n.t('constants.manual-lbl'), tooltip: ''},\r\n    {type: IOSTypeName.IPA, label: i18n.t('constants.ipa-lbl'), tooltip: ''}\r\n]\r\n\r\nexport const DesktopTypeName = {\r\n    EXE: 'EXE',\r\n    UWP: 'UWP'\r\n}\r\n\r\nexport const DesktopType = [\r\n    {type: DesktopTypeName.EXE, label: i18n.t('constants.exe-lbl'), tooltip: i18n.t('constants.exe-tooltip')},\r\n    {type: DesktopTypeName.UWP, label: i18n.t('constants.uwp-lbl'), tooltip: i18n.t('constants.uwp-tooltip')}\r\n]\r\n\r\nexport const TestProperty = {\r\n    ID: 'testuid',\r\n    APPID: 'appid',\r\n    PATH: 'testPath',\r\n    VERSION: 'testVersion',\r\n    CREATOR: 'creatorName',\r\n    WORKSPACE: 'workspace'\r\n}","export default __webpack_public_path__ + \"static/media/alltype-gray.c4fcc008.svg\";","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport LngDetector from 'i18next-browser-languagedetector';\r\n\r\nconst langs = ['cs', 'de', 'en', 'es', 'fr', 'hu', 'it', 'ja', 'ko', 'pl', 'pt-br', 'ru', 'tr', 'zh-cn', 'zh-tw'];\r\n\r\nlet resources = {};\r\nlangs.forEach(l => {\r\n  try {\r\n    resources[l] = { 'translation': require('./locales/' + l + '/appconfiguration.json') };\r\n  }\r\n  catch(e) {\r\n    console.log('Loading locale: ' + l + ' failed');\r\n  }\r\n})\r\n\r\ni18n\r\n  .use(initReactI18next)\r\n  .use(new LngDetector())\r\n  .init({\r\n    resources,\r\n    fallbackLng: 'en',\r\n    lowerCaseLng: true,\r\n    \r\n    detection: {\r\n      order: ['navigator', 'querystring', 'cookie', 'localStorage', 'htmlTag', 'path', 'subdomain']\r\n    },\r\n    \r\n    keySeparator: '.', // we do not use keys in form messages.welcome\r\n\r\n    interpolation: {\r\n      escapeValue: false // react already safes from xss\r\n    }\r\n  });\r\n\r\nexport default i18n;","export default __webpack_public_path__ + \"static/media/android.78fb87de.svg\";","export default __webpack_public_path__ + \"static/media/ios.f6564556.svg\";"],"sourceRoot":""}